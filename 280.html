<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p280" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_280{left:112px;bottom:139px;}
#t2_280{left:122px;bottom:139px;letter-spacing:0.07px;word-spacing:0.03px;}
#t3_280{left:122px;bottom:123px;letter-spacing:0.08px;word-spacing:0.01px;}
#t4_280{left:122px;bottom:108px;letter-spacing:0.04px;word-spacing:0.04px;}
#t5_280{left:110px;bottom:907px;letter-spacing:-0.01px;word-spacing:0.28px;}
#t6_280{left:110px;bottom:888px;letter-spacing:0.01px;word-spacing:1.09px;}
#t7_280{left:110px;bottom:869px;word-spacing:0.01px;}
#t8_280{left:136px;bottom:843px;letter-spacing:-0.01px;}
#t9_280{left:136px;bottom:827px;letter-spacing:-0.01px;}
#ta_280{left:181px;bottom:827px;}
#tb_280{left:194px;bottom:827px;letter-spacing:-0.01px;}
#tc_280{left:246px;bottom:827px;}
#td_280{left:259px;bottom:827px;letter-spacing:-0.01px;}
#te_280{left:292px;bottom:827px;letter-spacing:-0.01px;}
#tf_280{left:110px;bottom:783px;letter-spacing:0.03px;}
#tg_280{left:110px;bottom:758px;letter-spacing:0.01px;word-spacing:2.56px;}
#th_280{left:532px;bottom:758px;letter-spacing:0.12px;}
#ti_280{left:584px;bottom:758px;letter-spacing:0.02px;}
#tj_280{left:614px;bottom:758px;letter-spacing:0.12px;}
#tk_280{left:110px;bottom:739px;letter-spacing:-0.01px;word-spacing:0.32px;}
#tl_280{left:110px;bottom:719px;letter-spacing:0.02px;word-spacing:0.12px;}
#tm_280{left:110px;bottom:700px;letter-spacing:-0.01px;word-spacing:0.79px;}
#tn_280{left:110px;bottom:681px;letter-spacing:-0.01px;word-spacing:0.03px;}
#to_280{left:203px;bottom:681px;letter-spacing:-0.02px;word-spacing:0.04px;}
#tp_280{left:274px;bottom:681px;}
#tq_280{left:110px;bottom:652px;letter-spacing:0.02px;word-spacing:0.39px;}
#tr_280{left:110px;bottom:633px;letter-spacing:0.02px;word-spacing:4.67px;}
#ts_280{left:483px;bottom:642px;}
#tt_280{left:495px;bottom:633px;letter-spacing:0.02px;word-spacing:4.67px;}
#tu_280{left:110px;bottom:614px;letter-spacing:0.01px;word-spacing:0.15px;}
#tv_280{left:110px;bottom:595px;letter-spacing:0.01px;word-spacing:3.99px;}
#tw_280{left:110px;bottom:575px;letter-spacing:-0.04px;}
#tx_280{left:110px;bottom:547px;letter-spacing:0.01px;word-spacing:1.32px;}
#ty_280{left:110px;bottom:528px;letter-spacing:-0.01px;word-spacing:1.48px;}
#tz_280{left:110px;bottom:508px;word-spacing:0.33px;}
#t10_280{left:519px;bottom:508px;letter-spacing:0.12px;}
#t11_280{left:554px;bottom:508px;letter-spacing:0.02px;word-spacing:0.32px;}
#t12_280{left:110px;bottom:488px;letter-spacing:0.01px;word-spacing:2.23px;}
#t13_280{left:110px;bottom:469px;word-spacing:1.3px;}
#t14_280{left:110px;bottom:450px;word-spacing:2.96px;}
#t15_280{left:110px;bottom:430px;letter-spacing:0.12px;}
#t16_280{left:160px;bottom:430px;letter-spacing:-0.01px;word-spacing:0.46px;}
#t17_280{left:110px;bottom:410px;letter-spacing:0.02px;}
#t18_280{left:231px;bottom:410px;letter-spacing:0.12px;}
#t19_280{left:403px;bottom:410px;letter-spacing:0.02px;}
#t1a_280{left:110px;bottom:381px;word-spacing:3.47px;}
#t1b_280{left:110px;bottom:362px;letter-spacing:0.01px;word-spacing:0.4px;}
#t1c_280{left:110px;bottom:343px;word-spacing:1.9px;}
#t1d_280{left:110px;bottom:323px;letter-spacing:-0.04px;word-spacing:2.13px;}
#t1e_280{left:110px;bottom:303px;letter-spacing:0.02px;word-spacing:4.91px;}
#t1f_280{left:219px;bottom:304px;letter-spacing:0.12px;}
#t1g_280{left:273px;bottom:303px;letter-spacing:-0.02px;word-spacing:4.95px;}
#t1h_280{left:607px;bottom:304px;letter-spacing:0.12px;}
#t1i_280{left:110px;bottom:283px;letter-spacing:0.12px;}
#t1j_280{left:223px;bottom:283px;word-spacing:2.74px;}
#t1k_280{left:110px;bottom:263px;letter-spacing:0.01px;word-spacing:1.89px;}
#t1l_280{left:386px;bottom:263px;letter-spacing:0.12px;}
#t1m_280{left:453px;bottom:263px;letter-spacing:0.03px;word-spacing:1.86px;}
#t1n_280{left:110px;bottom:244px;letter-spacing:0.01px;word-spacing:0.52px;}
#t1o_280{left:110px;bottom:224px;letter-spacing:-0.03px;word-spacing:3.2px;}
#t1p_280{left:289px;bottom:224px;letter-spacing:0.12px;word-spacing:3px;}
#t1q_280{left:466px;bottom:224px;letter-spacing:0.03px;word-spacing:3.15px;}
#t1r_280{left:110px;bottom:204px;letter-spacing:-0.01px;word-spacing:0.03px;}
#t1s_280{left:110px;bottom:59px;letter-spacing:-0.08px;}
#t1t_280{left:141px;bottom:59px;}
#t1u_280{left:157px;bottom:59px;letter-spacing:-0.09px;}

.s1_280{font-size:11px;font-family:MinionPro-Regular_7yv;color:#000;}
.s2_280{font-size:12px;font-family:MinionPro-Regular_7yv;color:#000;}
.s3_280{font-size:16px;font-family:MinionPro-Regular_7yv;color:#000;}
.s4_280{font-size:13px;font-family:UbuntuMono-Italic_7zm;color:#35586C;}
.s5_280{font-size:13px;font-family:UbuntuMono-Bold_7zh;color:#069;}
.s6_280{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s7_280{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#008;}
.s8_280{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#C30;}
.s9_280{font-size:24px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
.sa_280{font-size:15px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.sb_280{font-size:16px;font-family:MinionPro-Regular_7yv;color:#900;}
.sc_280{font-size:9px;font-family:MinionPro-Regular_7yv;color:#000;}
.sd_280{font-size:14px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts280" type="text/css" >

@font-face {
	font-family: MinionPro-Regular_7yv;
	src: url("fonts/MinionPro-Regular_7yv.woff") format("woff");
}

@font-face {
	font-family: MyriadPro-SemiboldCond_7yc;
	src: url("fonts/MyriadPro-SemiboldCond_7yc.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Bold_7zh;
	src: url("fonts/UbuntuMono-Bold_7zh.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Italic_7zm;
	src: url("fonts/UbuntuMono-Italic_7zm.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Regular_7zr;
	src: url("fonts/UbuntuMono-Regular_7zr.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg280Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg280" style="-webkit-user-select: none;"><svg id="pdf280" width="770" height="1010" viewBox="0 0 770 1010" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_280"><path d="M110,930.3v-4.7H660v4.7Z"/></clipPath>
<clipPath id="c1_280"><path d="M110,848.3v-5.1H247.5v5.1Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_280{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-linecap: round;
stroke-miterlimit: 10;
}
.g1_280{
fill: none;
stroke: #000;
stroke-width: 0.763;
stroke-linecap: round;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path clip-path="url(#c0_280)" d="M660,927.9H110" class="g0_280"/>
<path clip-path="url(#c1_280)" d="M110,845.8H247.5" class="g1_280"/>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_280" class="t s1_280">1 </span><span id="t2_280" class="t s2_280">For example: web apps that have frequent incremental updates and users who make frequent return visits may </span>
<span id="t3_280" class="t s2_280">find that using small modules instead of large bundles can result in better average load times because of better </span>
<span id="t4_280" class="t s2_280">utilization of the user’s browser cache. </span>
<span id="t5_280" class="t s3_280">And finally, to re-export the default export of another module as the default export of </span>
<span id="t6_280" class="t s3_280">your module (though it is unclear why you would want to do this, since users could </span>
<span id="t7_280" class="t s3_280">simply import the other module directly), you can write: </span>
<span id="t8_280" class="t s4_280">// The average.js module simply re-exports the stats/mean.js default export </span>
<span id="t9_280" class="t s5_280">export </span><span id="ta_280" class="t s6_280">{ </span><span id="tb_280" class="t s5_280">default </span><span id="tc_280" class="t s6_280">} </span><span id="td_280" class="t s7_280">from </span><span id="te_280" class="t s8_280">"./stats/mean.js" </span>
<span id="tf_280" class="t s9_280">10.3.5 JavaScript Modules on the Web </span>
<span id="tg_280" class="t s3_280">The preceding sections have described ES6 modules and their </span><span id="th_280" class="t sa_280">import </span><span id="ti_280" class="t s3_280">and </span><span id="tj_280" class="t sa_280">export </span>
<span id="tk_280" class="t s3_280">declarations in a somewhat abstract manner. In this section and the next, we’ll be dis‐ </span>
<span id="tl_280" class="t s3_280">cussing how they actually work in web browsers, and if you are not already an experi‐ </span>
<span id="tm_280" class="t s3_280">enced web developer, you may find the rest of this chapter easier to understand after </span>
<span id="tn_280" class="t s3_280">you have read </span><span id="to_280" class="t sb_280">Chapter 15</span><span id="tp_280" class="t s3_280">. </span>
<span id="tq_280" class="t s3_280">As of early 2020, production code using ES6 modules is still generally bundled with a </span>
<span id="tr_280" class="t s3_280">tool like webpack. There are trade-offs to doing this, </span>
<span id="ts_280" class="t sc_280">1 </span>
<span id="tt_280" class="t s3_280">but on the whole, code </span>
<span id="tu_280" class="t s3_280">bundling tends to give better performance. That may well change in the future as net‐ </span>
<span id="tv_280" class="t s3_280">work speeds grow and browser vendors continue to optimize their ES6 module </span>
<span id="tw_280" class="t s3_280">implementations. </span>
<span id="tx_280" class="t s3_280">Even though bundling tools may still be desirable in production, they are no longer </span>
<span id="ty_280" class="t s3_280">required in development since all current browsers provide native support for Java‐ </span>
<span id="tz_280" class="t s3_280">Script modules. Recall that modules use strict mode by default, </span><span id="t10_280" class="t sa_280">this </span><span id="t11_280" class="t s3_280">does not refer to </span>
<span id="t12_280" class="t s3_280">a global object, and top-level declarations are not shared globally by default. Since </span>
<span id="t13_280" class="t s3_280">modules must be executed differently than legacy non-module code, their introduc‐ </span>
<span id="t14_280" class="t s3_280">tion requires changes to HTML as well as JavaScript. If you want to natively use </span>
<span id="t15_280" class="t sa_280">import </span><span id="t16_280" class="t s3_280">directives in a web browser, you must tell the web browser that your code is a </span>
<span id="t17_280" class="t s3_280">module by using a </span><span id="t18_280" class="t sa_280">&lt;script type="module"&gt; </span><span id="t19_280" class="t s3_280">tag. </span>
<span id="t1a_280" class="t s3_280">One of the nice features of ES6 modules is that each module has a static set of </span>
<span id="t1b_280" class="t s3_280">imports. So given a single starting module, a web browser can load all of its imported </span>
<span id="t1c_280" class="t s3_280">modules and then load all of the modules imported by that first batch of modules, </span>
<span id="t1d_280" class="t s3_280">and so on, until a complete program has been loaded. We’ve seen that the module </span>
<span id="t1e_280" class="t s3_280">specifier in an </span><span id="t1f_280" class="t sa_280">import </span><span id="t1g_280" class="t s3_280">statement can be treated as a relative URL. A </span><span id="t1h_280" class="t sa_280">&lt;script </span>
<span id="t1i_280" class="t sa_280">type="module"&gt; </span><span id="t1j_280" class="t s3_280">tag marks the starting point of a modular program. None of the </span>
<span id="t1k_280" class="t s3_280">modules it imports are expected to be in </span><span id="t1l_280" class="t sa_280">&lt;script&gt; </span><span id="t1m_280" class="t s3_280">tags, however: instead, they are </span>
<span id="t1n_280" class="t s3_280">loaded on demand as regular JavaScript files and are executed in strict mode as regu‐ </span>
<span id="t1o_280" class="t s3_280">lar ES6 modules. Using a </span><span id="t1p_280" class="t sa_280">&lt;script type="module"&gt; </span><span id="t1q_280" class="t s3_280">tag to define the main entry </span>
<span id="t1r_280" class="t s3_280">point for a modular JavaScript program can be as simple as this: </span>
<span id="t1s_280" class="t sd_280">262 </span><span id="t1t_280" class="t sd_280">| </span><span id="t1u_280" class="t sd_280">Chapter 10: Modules </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
