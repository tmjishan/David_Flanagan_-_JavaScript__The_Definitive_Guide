<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p317" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_317{left:110px;bottom:906px;letter-spacing:-0.01px;word-spacing:1.75px;}
#t2_317{left:504px;bottom:906px;letter-spacing:0.12px;}
#t3_317{left:578px;bottom:906px;letter-spacing:0.02px;word-spacing:1.72px;}
#t4_317{left:110px;bottom:886px;letter-spacing:0.01px;word-spacing:2.89px;}
#t5_317{left:480px;bottom:886px;letter-spacing:0.12px;}
#t6_317{left:532px;bottom:886px;letter-spacing:0.02px;word-spacing:2.88px;}
#t7_317{left:110px;bottom:866px;letter-spacing:-0.02px;word-spacing:1.4px;}
#t8_317{left:253px;bottom:866px;letter-spacing:0.12px;}
#t9_317{left:327px;bottom:866px;letter-spacing:0.01px;word-spacing:1.38px;}
#ta_317{left:110px;bottom:846px;word-spacing:1.23px;}
#tb_317{left:277px;bottom:846px;letter-spacing:0.12px;}
#tc_317{left:328px;bottom:846px;word-spacing:1.23px;}
#td_317{left:524px;bottom:846px;letter-spacing:0.12px;}
#te_317{left:597px;bottom:846px;letter-spacing:0.02px;word-spacing:1.22px;}
#tf_317{left:110px;bottom:825px;letter-spacing:0.01px;word-spacing:0.74px;}
#tg_317{left:335px;bottom:826px;letter-spacing:0.12px;}
#th_317{left:385px;bottom:825px;letter-spacing:0.01px;word-spacing:0.74px;}
#ti_317{left:110px;bottom:806px;letter-spacing:-0.01px;word-spacing:0.86px;}
#tj_317{left:110px;bottom:786px;letter-spacing:-0.15px;word-spacing:0.89px;}
#tk_317{left:170px;bottom:786px;letter-spacing:0.12px;}
#tl_317{left:251px;bottom:786px;letter-spacing:0.01px;word-spacing:0.74px;}
#tm_317{left:110px;bottom:767px;word-spacing:0.01px;}
#tn_317{left:136px;bottom:741px;letter-spacing:-0.01px;}
#to_317{left:162px;bottom:741px;letter-spacing:-0.01px;}
#tp_317{left:214px;bottom:741px;}
#tq_317{left:227px;bottom:741px;letter-spacing:-0.01px;}
#tr_317{left:272px;bottom:741px;}
#ts_317{left:136px;bottom:725px;letter-spacing:-0.01px;}
#tt_317{left:162px;bottom:725px;letter-spacing:-0.01px;}
#tu_317{left:194px;bottom:725px;}
#tv_317{left:207px;bottom:725px;letter-spacing:-0.01px;}
#tw_317{left:331px;bottom:725px;}
#tx_317{left:136px;bottom:710px;letter-spacing:-0.01px;}
#ty_317{left:162px;bottom:710px;letter-spacing:-0.01px;}
#tz_317{left:194px;bottom:710px;}
#t10_317{left:136px;bottom:694px;letter-spacing:-0.01px;}
#t11_317{left:168px;bottom:694px;letter-spacing:-0.01px;}
#t12_317{left:181px;bottom:694px;letter-spacing:-0.01px;}
#t13_317{left:220px;bottom:694px;}
#t14_317{left:233px;bottom:694px;letter-spacing:-0.01px;}
#t15_317{left:279px;bottom:694px;}
#t16_317{left:285px;bottom:694px;letter-spacing:-0.01px;}
#t17_317{left:311px;bottom:694px;}
#t18_317{left:318px;bottom:694px;letter-spacing:-0.01px;}
#t19_317{left:344px;bottom:694px;}
#t1a_317{left:363px;bottom:694px;letter-spacing:-0.01px;}
#t1b_317{left:389px;bottom:694px;letter-spacing:-0.01px;}
#t1c_317{left:415px;bottom:694px;letter-spacing:-0.01px;}
#t1d_317{left:162px;bottom:679px;letter-spacing:-0.01px;}
#t1e_317{left:207px;bottom:679px;}
#t1f_317{left:214px;bottom:679px;letter-spacing:-0.01px;}
#t1g_317{left:233px;bottom:679px;}
#t1h_317{left:240px;bottom:679px;letter-spacing:-0.01px;}
#t1i_317{left:298px;bottom:679px;letter-spacing:-0.01px;}
#t1j_317{left:311px;bottom:679px;letter-spacing:-0.01px;}
#t1k_317{left:344px;bottom:679px;}
#t1l_317{left:350px;bottom:679px;}
#t1m_317{left:357px;bottom:679px;}
#t1n_317{left:363px;bottom:679px;}
#t1o_317{left:376px;bottom:679px;}
#t1p_317{left:396px;bottom:679px;letter-spacing:-0.01px;}
#t1q_317{left:409px;bottom:679px;letter-spacing:-0.01px;}
#t1r_317{left:441px;bottom:679px;}
#t1s_317{left:448px;bottom:679px;letter-spacing:-0.01px;}
#t1t_317{left:480px;bottom:679px;}
#t1u_317{left:487px;bottom:679px;}
#t1v_317{left:493px;bottom:679px;letter-spacing:-0.01px;}
#t1w_317{left:162px;bottom:663px;letter-spacing:-0.01px;}
#t1x_317{left:207px;bottom:663px;}
#t1y_317{left:214px;bottom:663px;letter-spacing:-0.01px;}
#t1z_317{left:233px;bottom:663px;}
#t20_317{left:240px;bottom:663px;letter-spacing:-0.01px;}
#t21_317{left:389px;bottom:663px;letter-spacing:-0.01px;}
#t22_317{left:402px;bottom:663px;letter-spacing:-0.01px;}
#t23_317{left:448px;bottom:663px;}
#t24_317{left:454px;bottom:663px;letter-spacing:-0.01px;}
#t25_317{left:513px;bottom:663px;}
#t26_317{left:519px;bottom:663px;}
#t27_317{left:526px;bottom:663px;letter-spacing:-0.01px;}
#t28_317{left:136px;bottom:647px;}
#t29_317{left:230px;bottom:592px;letter-spacing:-0.03px;}
#t2a_317{left:123px;bottom:570px;letter-spacing:0.05px;word-spacing:0.78px;}
#t2b_317{left:123px;bottom:551px;letter-spacing:0.09px;word-spacing:0.27px;}
#t2c_317{left:162px;bottom:551px;letter-spacing:-0.24px;}
#t2d_317{left:231px;bottom:551px;letter-spacing:0.11px;word-spacing:0.27px;}
#t2e_317{left:342px;bottom:551px;}
#t2f_317{left:353px;bottom:551px;letter-spacing:0.11px;}
#t2g_317{left:380px;bottom:551px;}
#t2h_317{left:391px;bottom:551px;letter-spacing:0.1px;word-spacing:0.28px;}
#t2i_317{left:123px;bottom:532px;letter-spacing:0.11px;word-spacing:1.41px;}
#t2j_317{left:123px;bottom:514px;letter-spacing:-0.24px;}
#t2k_317{left:173px;bottom:513px;}
#t2l_317{left:181px;bottom:514px;letter-spacing:-0.24px;}
#t2m_317{left:225px;bottom:513px;letter-spacing:0.08px;word-spacing:0.62px;}
#t2n_317{left:250px;bottom:514px;letter-spacing:-0.24px;}
#t2o_317{left:297px;bottom:513px;letter-spacing:0.11px;word-spacing:0.63px;}
#t2p_317{left:123px;bottom:494px;letter-spacing:0.1px;}
#t2q_317{left:142px;bottom:494px;letter-spacing:-0.24px;}
#t2r_317{left:208px;bottom:494px;letter-spacing:0.1px;}
#t2s_317{left:315px;bottom:494px;letter-spacing:-0.24px;}
#t2t_317{left:384px;bottom:494px;letter-spacing:0.1px;word-spacing:0.02px;}
#t2u_317{left:123px;bottom:476px;letter-spacing:0.12px;word-spacing:-0.01px;}
#t2v_317{left:123px;bottom:447px;letter-spacing:0.09px;word-spacing:0.71px;}
#t2w_317{left:503px;bottom:448px;letter-spacing:-0.24px;}
#t2x_317{left:529px;bottom:447px;letter-spacing:0.11px;word-spacing:0.69px;}
#t2y_317{left:123px;bottom:429px;letter-spacing:0.06px;word-spacing:0.05px;}
#t2z_317{left:149px;bottom:403px;letter-spacing:-0.01px;}
#t30_317{left:175px;bottom:403px;letter-spacing:-0.01px;}
#t31_317{left:207px;bottom:403px;}
#t32_317{left:220px;bottom:403px;letter-spacing:-0.01px;}
#t33_317{left:285px;bottom:403px;}
#t34_317{left:298px;bottom:403px;letter-spacing:-0.01px;}
#t35_317{left:149px;bottom:388px;letter-spacing:-0.01px;}
#t36_317{left:181px;bottom:388px;letter-spacing:-0.01px;}
#t37_317{left:194px;bottom:388px;letter-spacing:-0.01px;}
#t38_317{left:233px;bottom:388px;}
#t39_317{left:246px;bottom:388px;letter-spacing:-0.01px;}
#t3a_317{left:285px;bottom:388px;}
#t3b_317{left:291px;bottom:388px;letter-spacing:-0.01px;}
#t3c_317{left:317px;bottom:388px;}
#t3d_317{left:324px;bottom:388px;letter-spacing:-0.01px;}
#t3e_317{left:350px;bottom:388px;}
#t3f_317{left:369px;bottom:388px;letter-spacing:-0.01px;}
#t3g_317{left:395px;bottom:388px;letter-spacing:-0.01px;}
#t3h_317{left:421px;bottom:388px;letter-spacing:-0.01px;}
#t3i_317{left:447px;bottom:388px;letter-spacing:-0.01px;}
#t3j_317{left:175px;bottom:372px;letter-spacing:-0.01px;}
#t3k_317{left:233px;bottom:372px;}
#t3l_317{left:239px;bottom:372px;letter-spacing:-0.01px;}
#t3m_317{left:265px;bottom:372px;}
#t3n_317{left:272px;bottom:372px;letter-spacing:-0.01px;}
#t3o_317{left:304px;bottom:372px;}
#t3p_317{left:311px;bottom:372px;letter-spacing:-0.01px;}
#t3q_317{left:343px;bottom:372px;letter-spacing:-0.01px;}
#t3r_317{left:149px;bottom:356px;}
#t3s_317{left:123px;bottom:329px;letter-spacing:0.08px;word-spacing:0.73px;}
#t3t_317{left:423px;bottom:329px;letter-spacing:-0.24px;}
#t3u_317{left:456px;bottom:329px;letter-spacing:0.08px;word-spacing:0.73px;}
#t3v_317{left:626px;bottom:329px;letter-spacing:-0.24px;}
#t3w_317{left:123px;bottom:310px;letter-spacing:0.09px;word-spacing:0.45px;}
#t3x_317{left:611px;bottom:310px;letter-spacing:-0.24px;}
#t3y_317{left:123px;bottom:292px;letter-spacing:0.07px;word-spacing:2.31px;}
#t3z_317{left:123px;bottom:272px;letter-spacing:0.1px;}
#t40_317{left:154px;bottom:273px;letter-spacing:-0.24px;}
#t41_317{left:223px;bottom:272px;letter-spacing:0.09px;word-spacing:0.3px;}
#t42_317{left:291px;bottom:273px;letter-spacing:-0.24px;}
#t43_317{left:339px;bottom:272px;letter-spacing:0.09px;word-spacing:0.31px;}
#t44_317{left:123px;bottom:254px;letter-spacing:0.09px;word-spacing:1.28px;}
#t45_317{left:123px;bottom:236px;letter-spacing:0.08px;word-spacing:0.61px;}
#t46_317{left:123px;bottom:217px;letter-spacing:0.07px;word-spacing:0.03px;}
#t47_317{left:123px;bottom:190px;letter-spacing:0.11px;word-spacing:0.21px;}
#t48_317{left:123px;bottom:172px;letter-spacing:0.11px;word-spacing:1.66px;}
#t49_317{left:123px;bottom:153px;letter-spacing:0.09px;word-spacing:0.01px;}
#t4a_317{left:149px;bottom:127px;letter-spacing:-0.01px;}
#t4b_317{left:175px;bottom:127px;letter-spacing:-0.01px;}
#t4c_317{left:246px;bottom:127px;}
#t4d_317{left:259px;bottom:127px;}
#t4e_317{left:272px;bottom:127px;letter-spacing:-0.01px;}
#t4f_317{left:317px;bottom:127px;}
#t4g_317{left:330px;bottom:127px;letter-spacing:-0.01px;}
#t4h_317{left:369px;bottom:127px;}
#t4i_317{left:382px;bottom:127px;letter-spacing:-0.01px;}
#t4j_317{left:441px;bottom:127px;letter-spacing:-0.01px;}
#t4k_317{left:149px;bottom:112px;letter-spacing:-0.01px;}
#t4l_317{left:175px;bottom:112px;letter-spacing:-0.01px;}
#t4m_317{left:291px;bottom:112px;}
#t4n_317{left:304px;bottom:112px;letter-spacing:-0.01px;}
#t4o_317{left:396px;bottom:59px;letter-spacing:-0.08px;}
#t4p_317{left:627px;bottom:59px;}
#t4q_317{left:643px;bottom:59px;letter-spacing:-0.1px;}

.s1_317{font-size:16px;font-family:MinionPro-Regular_7yv;color:#000;}
.s2_317{font-size:15px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s3_317{font-size:13px;font-family:UbuntuMono-Bold_7zh;color:#069;}
.s4_317{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#008;}
.s5_317{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#555;}
.s6_317{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#3AA;}
.s7_317{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s8_317{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#C30;}
.s9_317{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#A00;}
.sa_317{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#F60;}
.sb_317{font-size:23px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
.sc_317{font-size:15px;font-family:MinionPro-Regular_7yv;color:#000;}
.sd_317{font-size:13px;font-family:UbuntuMono-Italic_7zm;color:#35586C;}
.se_317{font-size:14px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts317" type="text/css" >

@font-face {
	font-family: MinionPro-Regular_7yv;
	src: url("fonts/MinionPro-Regular_7yv.woff") format("woff");
}

@font-face {
	font-family: MyriadPro-SemiboldCond_7yc;
	src: url("fonts/MyriadPro-SemiboldCond_7yc.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Bold_7zh;
	src: url("fonts/UbuntuMono-Bold_7zh.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Italic_7zm;
	src: url("fonts/UbuntuMono-Italic_7zm.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Regular_7zr;
	src: url("fonts/UbuntuMono-Regular_7zr.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg317Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg317" style="-webkit-user-select: none;"><svg id="pdf317" width="770" height="1010" viewBox="0 0 770 1010" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_317"><path d="M110,930.3v-4.7H660v4.7Z"/></clipPath>
<clipPath id="c1_317"><path d="M111.3,378l-1.2,-2.3l-1.2,-2.4H661.1l-1.2,2.4l-1.2,2.3Z"/></clipPath>
<clipPath id="c2_317"><path d="M657.5,905.7v-529l2.3,-1.1l2.4,-1.2V905.7Z"/></clipPath>
<clipPath id="c3_317"><path d="M107.8,905.7V374.4l2.4,1.2l2.3,1.1v529Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_317{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-linecap: round;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path clip-path="url(#c0_317)" d="M660,927.9H110" class="g0_317"/>
<path clip-path="url(#c1_317)" d="M110,375.7H660" class="g0_317"/>
<path clip-path="url(#c2_317)" d="M659.8,375.5V905.7" class="g0_317"/>
<path clip-path="url(#c3_317)" d="M110.2,905.7V375.5" class="g0_317"/>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_317" class="t s1_317">begin at that position.) For a newly created RegExp object, </span><span id="t2_317" class="t s2_317">lastIndex </span><span id="t3_317" class="t s1_317">is 0, and the </span>
<span id="t4_317" class="t s1_317">search begins at the start of the string. But each time </span><span id="t5_317" class="t s2_317">exec() </span><span id="t6_317" class="t s1_317">successfully finds a </span>
<span id="t7_317" class="t s1_317">match, it updates the </span><span id="t8_317" class="t s2_317">lastIndex </span><span id="t9_317" class="t s1_317">property to the index of the character immediately </span>
<span id="ta_317" class="t s1_317">after the matched text. If </span><span id="tb_317" class="t s2_317">exec() </span><span id="tc_317" class="t s1_317">fails to find a match, it resets </span><span id="td_317" class="t s2_317">lastIndex </span><span id="te_317" class="t s1_317">to 0. This </span>
<span id="tf_317" class="t s1_317">special behavior allows you to call </span><span id="tg_317" class="t s2_317">exec() </span><span id="th_317" class="t s1_317">repeatedly in order to loop through all the </span>
<span id="ti_317" class="t s1_317">regular expression matches in a string. (Although, as we’ve described, in ES2020 and </span>
<span id="tj_317" class="t s1_317">later, the </span><span id="tk_317" class="t s2_317">matchAll() </span><span id="tl_317" class="t s1_317">method of String is an easier way to loop through all matches.) </span>
<span id="tm_317" class="t s1_317">For example, the loop in the following code will run twice: </span>
<span id="tn_317" class="t s3_317">let </span><span id="to_317" class="t s4_317">pattern </span><span id="tp_317" class="t s5_317">= </span><span id="tq_317" class="t s6_317">/Java/g</span><span id="tr_317" class="t s7_317">; </span>
<span id="ts_317" class="t s3_317">let </span><span id="tt_317" class="t s4_317">text </span><span id="tu_317" class="t s5_317">= </span><span id="tv_317" class="t s8_317">"JavaScript &gt; Java"</span><span id="tw_317" class="t s7_317">; </span>
<span id="tx_317" class="t s3_317">let </span><span id="ty_317" class="t s4_317">match</span><span id="tz_317" class="t s7_317">; </span>
<span id="t10_317" class="t s3_317">while</span><span id="t11_317" class="t s7_317">((</span><span id="t12_317" class="t s4_317">match </span><span id="t13_317" class="t s5_317">= </span><span id="t14_317" class="t s4_317">pattern</span><span id="t15_317" class="t s7_317">.</span><span id="t16_317" class="t s4_317">exec</span><span id="t17_317" class="t s7_317">(</span><span id="t18_317" class="t s4_317">text</span><span id="t19_317" class="t s7_317">)) </span><span id="t1a_317" class="t s5_317">!== </span><span id="t1b_317" class="t s3_317">null</span><span id="t1c_317" class="t s7_317">) { </span>
<span id="t1d_317" class="t s4_317">console</span><span id="t1e_317" class="t s7_317">.</span><span id="t1f_317" class="t s4_317">log</span><span id="t1g_317" class="t s7_317">(</span><span id="t1h_317" class="t s8_317">`Matched </span><span id="t1i_317" class="t s9_317">${</span><span id="t1j_317" class="t s4_317">match</span><span id="t1k_317" class="t s7_317">[</span><span id="t1l_317" class="t sa_317">0</span><span id="t1m_317" class="t s7_317">]</span><span id="t1n_317" class="t s9_317">} </span><span id="t1o_317" class="t s8_317">at </span><span id="t1p_317" class="t s9_317">${</span><span id="t1q_317" class="t s4_317">match</span><span id="t1r_317" class="t s7_317">.</span><span id="t1s_317" class="t s4_317">index</span><span id="t1t_317" class="t s9_317">}</span><span id="t1u_317" class="t s8_317">`</span><span id="t1v_317" class="t s7_317">); </span>
<span id="t1w_317" class="t s4_317">console</span><span id="t1x_317" class="t s7_317">.</span><span id="t1y_317" class="t s4_317">log</span><span id="t1z_317" class="t s7_317">(</span><span id="t20_317" class="t s8_317">`Next search begins at </span><span id="t21_317" class="t s9_317">${</span><span id="t22_317" class="t s4_317">pattern</span><span id="t23_317" class="t s7_317">.</span><span id="t24_317" class="t s4_317">lastIndex</span><span id="t25_317" class="t s9_317">}</span><span id="t26_317" class="t s8_317">`</span><span id="t27_317" class="t s7_317">); </span>
<span id="t28_317" class="t s7_317">} </span>
<span id="t29_317" class="t sb_317">The lastIndex Property and RegExp Reuse </span>
<span id="t2a_317" class="t sc_317">As you have seen already, JavaScript’s regular expression API is complicated. The use </span>
<span id="t2b_317" class="t sc_317">of the </span><span id="t2c_317" class="t s2_317">lastIndex </span><span id="t2d_317" class="t sc_317">property with the </span><span id="t2e_317" class="t s2_317">g </span><span id="t2f_317" class="t sc_317">and </span><span id="t2g_317" class="t s2_317">y </span><span id="t2h_317" class="t sc_317">flags is a particularly awkward part of this </span>
<span id="t2i_317" class="t sc_317">API. When you use these flags, you need to be particularly careful when calling the </span>
<span id="t2j_317" class="t s2_317">match()</span><span id="t2k_317" class="t sc_317">, </span><span id="t2l_317" class="t s2_317">exec()</span><span id="t2m_317" class="t sc_317">, or </span><span id="t2n_317" class="t s2_317">test() </span><span id="t2o_317" class="t sc_317">methods because the behavior of these methods depends </span>
<span id="t2p_317" class="t sc_317">on </span><span id="t2q_317" class="t s2_317">lastIndex</span><span id="t2r_317" class="t sc_317">, and the value of </span><span id="t2s_317" class="t s2_317">lastIndex </span><span id="t2t_317" class="t sc_317">depends on what you have previously done </span>
<span id="t2u_317" class="t sc_317">with the RegExp object. This makes it easy to write buggy code. </span>
<span id="t2v_317" class="t sc_317">Suppose, for example, that we wanted to find the index of all </span><span id="t2w_317" class="t s2_317">&lt;p&gt; </span><span id="t2x_317" class="t sc_317">tags within a string </span>
<span id="t2y_317" class="t sc_317">of HTML text. We might write code like this: </span>
<span id="t2z_317" class="t s3_317">let </span><span id="t30_317" class="t s4_317">match</span><span id="t31_317" class="t s7_317">, </span><span id="t32_317" class="t s4_317">positions </span><span id="t33_317" class="t s5_317">= </span><span id="t34_317" class="t s7_317">[]; </span>
<span id="t35_317" class="t s3_317">while</span><span id="t36_317" class="t s7_317">((</span><span id="t37_317" class="t s4_317">match </span><span id="t38_317" class="t s5_317">= </span><span id="t39_317" class="t s6_317">/&lt;p&gt;/g</span><span id="t3a_317" class="t s7_317">.</span><span id="t3b_317" class="t s4_317">exec</span><span id="t3c_317" class="t s7_317">(</span><span id="t3d_317" class="t s4_317">html</span><span id="t3e_317" class="t s7_317">)) </span><span id="t3f_317" class="t s5_317">!== </span><span id="t3g_317" class="t s3_317">null</span><span id="t3h_317" class="t s7_317">) { </span><span id="t3i_317" class="t sd_317">// POSSIBLE INFINITE LOOP </span>
<span id="t3j_317" class="t s4_317">positions</span><span id="t3k_317" class="t s7_317">.</span><span id="t3l_317" class="t s4_317">push</span><span id="t3m_317" class="t s7_317">(</span><span id="t3n_317" class="t s4_317">match</span><span id="t3o_317" class="t s7_317">.</span><span id="t3p_317" class="t s4_317">index</span><span id="t3q_317" class="t s7_317">); </span>
<span id="t3r_317" class="t s7_317">} </span>
<span id="t3s_317" class="t sc_317">This code does not do what we want it to. If the </span><span id="t3t_317" class="t s2_317">html </span><span id="t3u_317" class="t sc_317">string contains at least one </span><span id="t3v_317" class="t s2_317">&lt;p&gt; </span>
<span id="t3w_317" class="t sc_317">tag, then it will loop forever. The problem is that we use a RegExp literal in the </span><span id="t3x_317" class="t s2_317">while </span>
<span id="t3y_317" class="t sc_317">loop condition. For each iteration of the loop, we’re creating a new RegExp object </span>
<span id="t3z_317" class="t sc_317">with </span><span id="t40_317" class="t s2_317">lastIndex </span><span id="t41_317" class="t sc_317">set to 0, so </span><span id="t42_317" class="t s2_317">exec() </span><span id="t43_317" class="t sc_317">always begins at the start of the string, and if there </span>
<span id="t44_317" class="t sc_317">is a match, it will keep matching over and over. The solution, of course, is to define </span>
<span id="t45_317" class="t sc_317">the RegExp once, and save it to a variable so that we’re using the same RegExp object </span>
<span id="t46_317" class="t sc_317">for each iteration of the loop. </span>
<span id="t47_317" class="t sc_317">On the other hand, sometimes reusing a RegExp object is the wrong thing to do. Sup‐ </span>
<span id="t48_317" class="t sc_317">pose, for example, that we want to loop through all of the words in a dictionary to </span>
<span id="t49_317" class="t sc_317">find words that contain pairs of double letters: </span>
<span id="t4a_317" class="t s3_317">let </span><span id="t4b_317" class="t s4_317">dictionary </span><span id="t4c_317" class="t s5_317">= </span><span id="t4d_317" class="t s7_317">[ </span><span id="t4e_317" class="t s8_317">"apple"</span><span id="t4f_317" class="t s7_317">, </span><span id="t4g_317" class="t s8_317">"book"</span><span id="t4h_317" class="t s7_317">, </span><span id="t4i_317" class="t s8_317">"coffee" </span><span id="t4j_317" class="t s7_317">]; </span>
<span id="t4k_317" class="t s3_317">let </span><span id="t4l_317" class="t s4_317">doubleLetterWords </span><span id="t4m_317" class="t s5_317">= </span><span id="t4n_317" class="t s7_317">[]; </span>
<span id="t4o_317" class="t se_317">11.3 Pattern Matching with Regular Expressions </span><span id="t4p_317" class="t se_317">| </span><span id="t4q_317" class="t se_317">299 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
