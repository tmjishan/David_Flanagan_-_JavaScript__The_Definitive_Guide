<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p368" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_368{left:305px;bottom:885px;letter-spacing:-0.03px;}
#t2_368{left:123px;bottom:863px;letter-spacing:0.1px;word-spacing:1.14px;}
#t3_368{left:123px;bottom:845px;letter-spacing:0.1px;word-spacing:0.23px;}
#t4_368{left:123px;bottom:826px;letter-spacing:0.07px;word-spacing:2.31px;}
#t5_368{left:123px;bottom:807px;letter-spacing:0.04px;word-spacing:4.2px;}
#t6_368{left:514px;bottom:807px;letter-spacing:-0.24px;}
#t7_368{left:566px;bottom:807px;letter-spacing:0.14px;word-spacing:4.12px;}
#t8_368{left:123px;bottom:789px;letter-spacing:0.08px;word-spacing:1.89px;}
#t9_368{left:123px;bottom:770px;letter-spacing:0.11px;}
#ta_368{left:156px;bottom:770px;letter-spacing:0.1px;}
#tb_368{left:206px;bottom:770px;letter-spacing:0.1px;word-spacing:0.63px;}
#tc_368{left:123px;bottom:752px;letter-spacing:0.11px;}
#td_368{left:155px;bottom:752px;letter-spacing:0.02px;}
#te_368{left:205px;bottom:752px;letter-spacing:0.11px;word-spacing:0.29px;}
#tf_368{left:123px;bottom:734px;letter-spacing:0.1px;word-spacing:0.23px;}
#tg_368{left:261px;bottom:734px;}
#th_368{left:308px;bottom:734px;letter-spacing:0.09px;word-spacing:0.24px;}
#ti_368{left:123px;bottom:715px;letter-spacing:0.07px;word-spacing:2.78px;}
#tj_368{left:154px;bottom:715px;letter-spacing:0.04px;}
#tk_368{left:192px;bottom:715px;letter-spacing:0.1px;word-spacing:2.8px;}
#tl_368{left:514px;bottom:715px;letter-spacing:-0.04px;}
#tm_368{left:544px;bottom:715px;letter-spacing:0.12px;word-spacing:2.78px;}
#tn_368{left:123px;bottom:697px;letter-spacing:0.1px;}
#to_368{left:123px;bottom:670px;letter-spacing:0.1px;word-spacing:2.6px;}
#tp_368{left:123px;bottom:651px;letter-spacing:0.08px;word-spacing:2.89px;}
#tq_368{left:291px;bottom:651px;letter-spacing:-0.07px;}
#tr_368{left:330px;bottom:651px;letter-spacing:0.03px;word-spacing:2.95px;}
#ts_368{left:123px;bottom:633px;letter-spacing:0.11px;word-spacing:0.93px;}
#tt_368{left:123px;bottom:615px;letter-spacing:0.11px;word-spacing:1.14px;}
#tu_368{left:123px;bottom:596px;letter-spacing:0.1px;word-spacing:1.97px;}
#tv_368{left:123px;bottom:578px;letter-spacing:0.11px;word-spacing:0.77px;}
#tw_368{left:123px;bottom:560px;letter-spacing:0.11px;word-spacing:1.64px;}
#tx_368{left:123px;bottom:541px;letter-spacing:0.1px;word-spacing:0.5px;}
#ty_368{left:123px;bottom:523px;letter-spacing:0.1px;word-spacing:1.52px;}
#tz_368{left:123px;bottom:505px;letter-spacing:0.1px;word-spacing:0.23px;}
#t10_368{left:123px;bottom:485px;letter-spacing:0.09px;word-spacing:1.14px;}
#t11_368{left:256px;bottom:486px;letter-spacing:-0.24px;}
#t12_368{left:300px;bottom:485px;letter-spacing:0.11px;word-spacing:1.12px;}
#t13_368{left:123px;bottom:466px;letter-spacing:0.1px;word-spacing:1.5px;}
#t14_368{left:537px;bottom:467px;letter-spacing:-0.24px;}
#t15_368{left:592px;bottom:466px;letter-spacing:0.11px;word-spacing:1.49px;}
#t16_368{left:123px;bottom:447px;letter-spacing:0.1px;word-spacing:0.02px;}
#t17_368{left:247px;bottom:447px;letter-spacing:-0.24px;}
#t18_368{left:291px;bottom:447px;}
#t19_368{left:123px;bottom:419px;letter-spacing:0.11px;word-spacing:0.72px;}
#t1a_368{left:123px;bottom:401px;letter-spacing:0.1px;word-spacing:0.7px;}
#t1b_368{left:169px;bottom:401px;letter-spacing:-0.02px;}
#t1c_368{left:217px;bottom:401px;letter-spacing:0.08px;word-spacing:0.72px;}
#t1d_368{left:123px;bottom:383px;letter-spacing:0.08px;word-spacing:0.03px;}
#t1e_368{left:123px;bottom:364px;letter-spacing:0.11px;word-spacing:0.84px;}
#t1f_368{left:123px;bottom:346px;letter-spacing:0.04px;word-spacing:0.08px;}
#t1g_368{left:110px;bottom:284px;letter-spacing:0.03px;}
#t1h_368{left:110px;bottom:260px;letter-spacing:-0.01px;word-spacing:0.78px;}
#t1i_368{left:110px;bottom:239px;letter-spacing:0.01px;word-spacing:1.78px;}
#t1j_368{left:559px;bottom:240px;letter-spacing:0.12px;}
#t1k_368{left:610px;bottom:239px;letter-spacing:0.02px;}
#t1l_368{left:110px;bottom:220px;word-spacing:0.15px;}
#t1m_368{left:110px;bottom:201px;letter-spacing:-0.01px;word-spacing:0.02px;}
#t1n_368{left:136px;bottom:175px;letter-spacing:-0.01px;}
#t1o_368{left:168px;bottom:175px;}
#t1p_368{left:175px;bottom:175px;letter-spacing:-0.01px;}
#t1q_368{left:246px;bottom:175px;}
#t1r_368{left:396px;bottom:175px;letter-spacing:-0.01px;}
#t1s_368{left:162px;bottom:159px;}
#t1t_368{left:168px;bottom:159px;letter-spacing:-0.01px;}
#t1u_368{left:194px;bottom:159px;}
#t1v_368{left:201px;bottom:159px;letter-spacing:-0.01px;}
#t1w_368{left:259px;bottom:159px;}
#t1x_368{left:279px;bottom:159px;letter-spacing:-0.01px;}
#t1y_368{left:331px;bottom:159px;}
#t1z_368{left:337px;bottom:159px;letter-spacing:-0.01px;}
#t20_368{left:363px;bottom:159px;letter-spacing:-0.01px;}
#t21_368{left:396px;bottom:159px;letter-spacing:-0.01px;}
#t22_368{left:162px;bottom:144px;}
#t23_368{left:168px;bottom:144px;letter-spacing:-0.01px;}
#t24_368{left:194px;bottom:144px;}
#t25_368{left:201px;bottom:144px;letter-spacing:-0.01px;}
#t26_368{left:259px;bottom:144px;}
#t27_368{left:279px;bottom:144px;}
#t28_368{left:396px;bottom:144px;letter-spacing:-0.01px;}
#t29_368{left:188px;bottom:128px;letter-spacing:-0.01px;}
#t2a_368{left:233px;bottom:128px;letter-spacing:-0.01px;}
#t2b_368{left:272px;bottom:128px;}
#t2c_368{left:279px;bottom:128px;letter-spacing:-0.01px;}
#t2d_368{left:331px;bottom:128px;}
#t2e_368{left:396px;bottom:128px;letter-spacing:-0.01px;}
#t2f_368{left:162px;bottom:113px;letter-spacing:-0.01px;}
#t2g_368{left:110px;bottom:59px;letter-spacing:-0.08px;}
#t2h_368{left:141px;bottom:59px;}
#t2i_368{left:157px;bottom:59px;letter-spacing:-0.09px;}

.s1_368{font-size:23px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
.s2_368{font-size:15px;font-family:MinionPro-Regular_7yv;color:#000;}
.s3_368{font-size:15px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s4_368{font-size:15px;font-family:MinionPro-It_7xz;color:#000;}
.s5_368{font-size:24px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
.s6_368{font-size:16px;font-family:MinionPro-Regular_7yv;color:#000;}
.s7_368{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#008;}
.s8_368{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s9_368{font-size:13px;font-family:UbuntuMono-Italic_7zm;color:#35586C;}
.sa_368{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#555;}
.sb_368{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#366;}
.sc_368{font-size:13px;font-family:UbuntuMono-Bold_7zh;color:#069;}
.sd_368{font-size:14px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts368" type="text/css" >

@font-face {
	font-family: MinionPro-It_7xz;
	src: url("fonts/MinionPro-It_7xz.woff") format("woff");
}

@font-face {
	font-family: MinionPro-Regular_7yv;
	src: url("fonts/MinionPro-Regular_7yv.woff") format("woff");
}

@font-face {
	font-family: MyriadPro-SemiboldCond_7yc;
	src: url("fonts/MyriadPro-SemiboldCond_7yc.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Bold_7zh;
	src: url("fonts/UbuntuMono-Bold_7zh.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Italic_7zm;
	src: url("fonts/UbuntuMono-Italic_7zm.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Regular_7zr;
	src: url("fonts/UbuntuMono-Regular_7zr.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg368Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg368" style="-webkit-user-select: none;"><svg id="pdf368" width="770" height="1010" viewBox="0 0 770 1010" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_368"><path d="M110,930.3v-4.7H660v4.7Z"/></clipPath>
<clipPath id="c1_368"><path d="M111.3,85l-1.2,-2.3l-1.2,-2.4H661.1l-1.2,2.4L658.7,85Z"/></clipPath>
<clipPath id="c2_368"><path d="M662.2,681l-2.4,-1.2l-2.3,-1.2V83.8l2.3,-1.2l2.4,-1.2V681Z"/></clipPath>
<clipPath id="c3_368"><path d="M108.9,682l1.2,-2.3l1.2,-2.4H658.7l1.2,2.4l1.2,2.3Z"/></clipPath>
<clipPath id="c4_368"><path d="M107.8,681V81.4l2.4,1.2l2.3,1.2V678.6l-2.3,1.2l-2.4,1.2Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_368{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-linecap: round;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path clip-path="url(#c0_368)" d="M660,927.9H110" class="g0_368"/>
<path clip-path="url(#c1_368)" d="M110,82.7H660" class="g0_368"/>
<path clip-path="url(#c2_368)" d="M659.8,82.5V679.9" class="g0_368"/>
<path clip-path="url(#c3_368)" d="M660,679.7H110" class="g0_368"/>
<path clip-path="url(#c4_368)" d="M110.2,679.9V82.5" class="g0_368"/>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_368" class="t s1_368">Promise Terminology </span>
<span id="t2_368" class="t s2_368">Before we discuss Promises further, it is worth pausing to define some terms. When </span>
<span id="t3_368" class="t s2_368">we are not programming and we talk about human promises, we say that a promise is </span>
<span id="t4_368" class="t s2_368">“kept” or “broken.” When discussing JavaScript Promises, the equivalent terms are </span>
<span id="t5_368" class="t s2_368">“fulfilled” and “rejected.” Imagine that you have called the </span><span id="t6_368" class="t s3_368">then() </span><span id="t7_368" class="t s2_368">method of a </span>
<span id="t8_368" class="t s2_368">Promise and have passed two callback functions to it. We say that the promise has </span>
<span id="t9_368" class="t s2_368">been </span><span id="ta_368" class="t s4_368" data-mappings='[[3,"fi"]]'>fulﬁlled </span><span id="tb_368" class="t s2_368">if and when the first callback is called. And we say that the Promise has </span>
<span id="tc_368" class="t s2_368">been </span><span id="td_368" class="t s4_368">rejected </span><span id="te_368" class="t s2_368">if and when the second callback is called. If a Promise is neither fulfilled </span>
<span id="tf_368" class="t s2_368">nor rejected, then it is </span><span id="tg_368" class="t s4_368">pending</span><span id="th_368" class="t s2_368">. And once a promise is fulfilled or rejected, we say that </span>
<span id="ti_368" class="t s2_368">it is </span><span id="tj_368" class="t s4_368">settled</span><span id="tk_368" class="t s2_368">. Note that a Promise can never be both fulfilled </span><span id="tl_368" class="t s4_368">and </span><span id="tm_368" class="t s2_368">rejected. Once a </span>
<span id="tn_368" class="t s2_368">Promise settles, it will never change from fulfilled to rejected or vice versa. </span>
<span id="to_368" class="t s2_368">Remember how we defined Promises at the start of this section: “a Promise is an </span>
<span id="tp_368" class="t s2_368">object that represents the </span><span id="tq_368" class="t s4_368">result </span><span id="tr_368" class="t s2_368">of an asynchronous operation.” It is important to </span>
<span id="ts_368" class="t s2_368">remember that Promises are not just abstract ways registering callbacks to run when </span>
<span id="tt_368" class="t s2_368">some async code finishes—they represent the results of that async code. If the async </span>
<span id="tu_368" class="t s2_368">code runs normally (and the Promise is fulfilled), then that result is essentially the </span>
<span id="tv_368" class="t s2_368">return value of the code. And if the async code does not complete normally (and the </span>
<span id="tw_368" class="t s2_368">Promise is rejected), then the result is an Error object or some other value that the </span>
<span id="tx_368" class="t s2_368">code might have thrown if it was not asynchronous. Any Promise that has settled has </span>
<span id="ty_368" class="t s2_368">a value associated with it, and that value will not change. If the Promise is fulfilled, </span>
<span id="tz_368" class="t s2_368">then the value is a return value that gets passed to any callback functions registered as </span>
<span id="t10_368" class="t s2_368">the first argument of </span><span id="t11_368" class="t s3_368">then()</span><span id="t12_368" class="t s2_368">. If the Promise is rejected, then the value is an error of </span>
<span id="t13_368" class="t s2_368">some sort that is passed to any callback functions registered with </span><span id="t14_368" class="t s3_368">catch() </span><span id="t15_368" class="t s2_368">or as the </span>
<span id="t16_368" class="t s2_368">second argument of </span><span id="t17_368" class="t s3_368">then()</span><span id="t18_368" class="t s2_368">. </span>
<span id="t19_368" class="t s2_368">The reason that I want to be precise about Promise terminology is that Promises can </span>
<span id="t1a_368" class="t s2_368">also be </span><span id="t1b_368" class="t s4_368">resolved</span><span id="t1c_368" class="t s2_368">. It is easy to confuse this resolved state with the fulfilled state or with </span>
<span id="t1d_368" class="t s2_368">settled state, but it is not precisely the same as either. Understanding the resolved state </span>
<span id="t1e_368" class="t s2_368">is one of the keys to a deep understanding of Promises, and I’ll come back to it after </span>
<span id="t1f_368" class="t s2_368">we’ve discussed Promise chains below. </span>
<span id="t1g_368" class="t s5_368">13.2.2 Chaining Promises </span>
<span id="t1h_368" class="t s6_368">One of the most important benefits of Promises is that they provide a natural way to </span>
<span id="t1i_368" class="t s6_368">express a sequence of asynchronous operations as a linear chain of </span><span id="t1j_368" class="t s3_368">then() </span><span id="t1k_368" class="t s6_368">method </span>
<span id="t1l_368" class="t s6_368">invocations, without having to nest each operation within the callback of the previous </span>
<span id="t1m_368" class="t s6_368">one. Here, for example, is a hypothetical Promise chain: </span>
<span id="t1n_368" class="t s7_368">fetch</span><span id="t1o_368" class="t s8_368">(</span><span id="t1p_368" class="t s7_368">documentURL</span><span id="t1q_368" class="t s8_368">) </span><span id="t1r_368" class="t s9_368">// Make an HTTP request </span>
<span id="t1s_368" class="t s8_368">.</span><span id="t1t_368" class="t s7_368">then</span><span id="t1u_368" class="t s8_368">(</span><span id="t1v_368" class="t s7_368">response </span><span id="t1w_368" class="t sa_368">=&gt; </span><span id="t1x_368" class="t s7_368">response</span><span id="t1y_368" class="t s8_368">.</span><span id="t1z_368" class="t s7_368">json</span><span id="t20_368" class="t s8_368">()) </span><span id="t21_368" class="t s9_368">// Ask for the JSON body of the response </span>
<span id="t22_368" class="t s8_368">.</span><span id="t23_368" class="t s7_368">then</span><span id="t24_368" class="t s8_368">(</span><span id="t25_368" class="t sb_368">document </span><span id="t26_368" class="t sa_368">=&gt; </span><span id="t27_368" class="t s8_368">{ </span><span id="t28_368" class="t s9_368">// When we get the parsed JSON </span>
<span id="t29_368" class="t sc_368">return </span><span id="t2a_368" class="t s7_368">render</span><span id="t2b_368" class="t s8_368">(</span><span id="t2c_368" class="t sb_368">document</span><span id="t2d_368" class="t s8_368">); </span><span id="t2e_368" class="t s9_368">// display the document to the user </span>
<span id="t2f_368" class="t s8_368">}) </span>
<span id="t2g_368" class="t sd_368">350 </span><span id="t2h_368" class="t sd_368">| </span><span id="t2i_368" class="t sd_368">Chapter 13: Asynchronous JavaScript </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
