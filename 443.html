<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p443" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_443{left:110px;bottom:907px;letter-spacing:0.02px;word-spacing:1.78px;}
#t2_443{left:560px;bottom:907px;letter-spacing:0.02px;}
#t3_443{left:614px;bottom:907px;letter-spacing:-0.11px;word-spacing:1.9px;}
#t4_443{left:110px;bottom:888px;letter-spacing:0.04px;word-spacing:0.13px;}
#t5_443{left:110px;bottom:869px;word-spacing:3.08px;}
#t6_443{left:110px;bottom:849px;letter-spacing:0.03px;word-spacing:-0.01px;}
#t7_443{left:110px;bottom:821px;letter-spacing:0.01px;word-spacing:2.11px;}
#t8_443{left:110px;bottom:802px;word-spacing:0.61px;}
#t9_443{left:368px;bottom:802px;letter-spacing:-0.07px;}
#ta_443{left:496px;bottom:802px;word-spacing:0.61px;}
#tb_443{left:110px;bottom:782px;word-spacing:3.19px;}
#tc_443{left:292px;bottom:782px;letter-spacing:-0.07px;}
#td_443{left:374px;bottom:782px;letter-spacing:-0.04px;word-spacing:3.23px;}
#te_443{left:110px;bottom:762px;letter-spacing:0.01px;word-spacing:0.16px;}
#tf_443{left:391px;bottom:763px;letter-spacing:0.12px;}
#tg_443{left:509px;bottom:762px;letter-spacing:0.02px;word-spacing:0.16px;}
#th_443{left:110px;bottom:743px;letter-spacing:0.02px;word-spacing:2.96px;}
#ti_443{left:234px;bottom:743px;letter-spacing:-0.06px;}
#tj_443{left:410px;bottom:743px;letter-spacing:0.02px;word-spacing:2.96px;}
#tk_443{left:578px;bottom:743px;letter-spacing:-0.04px;}
#tl_443{left:110px;bottom:723px;letter-spacing:-0.07px;}
#tm_443{left:162px;bottom:723px;letter-spacing:0.01px;}
#tn_443{left:228px;bottom:723px;letter-spacing:0.12px;}
#to_443{left:346px;bottom:723px;letter-spacing:-0.1px;word-spacing:0.22px;}
#tp_443{left:629px;bottom:723px;letter-spacing:0.12px;}
#tq_443{left:110px;bottom:703px;letter-spacing:0.12px;}
#tr_443{left:197px;bottom:703px;letter-spacing:-0.39px;word-spacing:0.41px;}
#ts_443{left:110px;bottom:674px;letter-spacing:0.02px;word-spacing:1.76px;}
#tt_443{left:110px;bottom:655px;letter-spacing:0.02px;word-spacing:1.78px;}
#tu_443{left:110px;bottom:635px;letter-spacing:0.05px;word-spacing:1.27px;}
#tv_443{left:375px;bottom:635px;letter-spacing:0.12px;}
#tw_443{left:433px;bottom:635px;letter-spacing:0.02px;word-spacing:1.3px;}
#tx_443{left:607px;bottom:635px;letter-spacing:0.12px;}
#ty_443{left:110px;bottom:615px;letter-spacing:0.12px;}
#tz_443{left:266px;bottom:615px;letter-spacing:-0.01px;word-spacing:0.27px;}
#t10_443{left:110px;bottom:595px;letter-spacing:0.01px;word-spacing:0.37px;}
#t11_443{left:110px;bottom:576px;letter-spacing:0.01px;word-spacing:4.1px;}
#t12_443{left:110px;bottom:557px;letter-spacing:0.01px;word-spacing:0.01px;}
#t13_443{left:110px;bottom:518px;letter-spacing:-0.1px;}
#t14_443{left:110px;bottom:492px;letter-spacing:-0.1px;word-spacing:2.63px;}
#t15_443{left:229px;bottom:492px;letter-spacing:0.02px;word-spacing:2.51px;}
#t16_443{left:110px;bottom:473px;letter-spacing:-0.01px;word-spacing:0.29px;}
#t17_443{left:110px;bottom:454px;letter-spacing:0.01px;word-spacing:0.01px;}
#t18_443{left:110px;bottom:425px;letter-spacing:0.01px;word-spacing:0.79px;}
#t19_443{left:110px;bottom:406px;letter-spacing:-0.03px;word-spacing:1.21px;}
#t1a_443{left:110px;bottom:387px;word-spacing:1.42px;}
#t1b_443{left:110px;bottom:368px;word-spacing:0.02px;}
#t1c_443{left:136px;bottom:342px;letter-spacing:-0.01px;}
#t1d_443{left:136px;bottom:326px;letter-spacing:-0.01px;}
#t1e_443{left:162px;bottom:326px;letter-spacing:-0.01px;}
#t1f_443{left:194px;bottom:326px;}
#t1g_443{left:207px;bottom:326px;letter-spacing:-0.01px;}
#t1h_443{left:233px;bottom:326px;letter-spacing:-0.01px;}
#t1i_443{left:253px;bottom:326px;}
#t1j_443{left:259px;bottom:326px;letter-spacing:-0.01px;}
#t1k_443{left:311px;bottom:326px;}
#t1l_443{left:318px;bottom:326px;letter-spacing:-0.01px;}
#t1m_443{left:337px;bottom:326px;letter-spacing:-0.01px;}
#t1n_443{left:350px;bottom:326px;letter-spacing:-0.01px;}
#t1o_443{left:428px;bottom:326px;}
#t1p_443{left:435px;bottom:326px;letter-spacing:-0.01px;}
#t1q_443{left:454px;bottom:326px;}
#t1r_443{left:461px;bottom:326px;letter-spacing:-0.01px;}
#t1s_443{left:500px;bottom:326px;letter-spacing:-0.01px;}
#t1t_443{left:136px;bottom:311px;letter-spacing:-0.01px;}
#t1u_443{left:188px;bottom:311px;}
#t1v_443{left:194px;bottom:311px;letter-spacing:-0.01px;}
#t1w_443{left:279px;bottom:311px;}
#t1x_443{left:285px;bottom:311px;letter-spacing:-0.01px;}
#t1y_443{left:311px;bottom:311px;letter-spacing:-0.01px;}
#t1z_443{left:324px;bottom:311px;letter-spacing:-0.01px;}
#t20_443{left:389px;bottom:311px;}
#t21_443{left:402px;bottom:311px;letter-spacing:-0.01px;}
#t22_443{left:461px;bottom:311px;}
#t23_443{left:474px;bottom:311px;letter-spacing:-0.01px;}
#t24_443{left:500px;bottom:311px;}
#t25_443{left:136px;bottom:295px;letter-spacing:-0.01px;}
#t26_443{left:110px;bottom:268px;letter-spacing:-0.01px;word-spacing:0.19px;}
#t27_443{left:110px;bottom:248px;word-spacing:1.33px;}
#t28_443{left:587px;bottom:248px;letter-spacing:0.12px;}
#t29_443{left:623px;bottom:248px;letter-spacing:0.02px;word-spacing:1.31px;}
#t2a_443{left:110px;bottom:228px;word-spacing:0.02px;}
#t2b_443{left:136px;bottom:202px;letter-spacing:-0.01px;}
#t2c_443{left:110px;bottom:175px;letter-spacing:-0.04px;word-spacing:2.15px;}
#t2d_443{left:110px;bottom:156px;letter-spacing:0.03px;word-spacing:-0.01px;}
#t2e_443{left:136px;bottom:130px;letter-spacing:-0.01px;}
#t2f_443{left:476px;bottom:59px;letter-spacing:-0.09px;}
#t2g_443{left:627px;bottom:59px;}
#t2h_443{left:643px;bottom:59px;letter-spacing:-0.1px;}

.s1_443{font-size:16px;font-family:MinionPro-Regular_7yv;color:#000;}
.s2_443{font-size:16px;font-family:MinionPro-Regular_7yv;color:#900;}
.s3_443{font-size:16px;font-family:MinionPro-It_7xz;color:#000;}
.s4_443{font-size:15px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s5_443{font-size:16px;font-family:MinionPro-It_7xz;color:#900;}
.s6_443{font-size:18px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
.s7_443{font-size:13px;font-family:UbuntuMono-Bold_7zh;color:#309;}
.s8_443{font-size:13px;font-family:UbuntuMono-Bold_7zh;color:#069;}
.s9_443{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#008;}
.sa_443{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#555;}
.sb_443{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.sc_443{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#366;}
.sd_443{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#C30;}
.se_443{font-size:14px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts443" type="text/css" >

@font-face {
	font-family: MinionPro-It_7xz;
	src: url("fonts/MinionPro-It_7xz.woff") format("woff");
}

@font-face {
	font-family: MinionPro-Regular_7yv;
	src: url("fonts/MinionPro-Regular_7yv.woff") format("woff");
}

@font-face {
	font-family: MyriadPro-SemiboldCond_7yc;
	src: url("fonts/MyriadPro-SemiboldCond_7yc.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Bold_7zh;
	src: url("fonts/UbuntuMono-Bold_7zh.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Regular_7zr;
	src: url("fonts/UbuntuMono-Regular_7zr.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg443Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg443" style="-webkit-user-select: none;"><svg id="pdf443" width="770" height="1010" viewBox="0 0 770 1010" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_443"><path d="M110,930.3v-4.7H660v4.7Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_443{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-linecap: round;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path clip-path="url(#c0_443)" d="M660,927.9H110" class="g0_443"/>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_443" class="t s1_443">The same-origin policy also applies to scripted HTTP requests (see </span><span id="t2_443" class="t s2_443">§15.11.1</span><span id="t3_443" class="t s1_443">). Java‐ </span>
<span id="t4_443" class="t s1_443">Script code can make arbitrary HTTP requests to the web server from which the con‐ </span>
<span id="t5_443" class="t s1_443">taining document was loaded, but it does not allow scripts to communicate with </span>
<span id="t6_443" class="t s1_443">other web servers (unless those web servers opt in with CORS, as we describe next). </span>
<span id="t7_443" class="t s1_443">The same-origin policy poses problems for large websites that use multiple subdo‐ </span>
<span id="t8_443" class="t s1_443">mains. For example, scripts with origin </span><span id="t9_443" class="t s3_443">orders.example.com </span><span id="ta_443" class="t s1_443">might need to read prop‐ </span>
<span id="tb_443" class="t s1_443">erties from documents on </span><span id="tc_443" class="t s3_443">example.com</span><span id="td_443" class="t s1_443">. To support multidomain websites of this </span>
<span id="te_443" class="t s1_443">sort, scripts can alter their origin by setting </span><span id="tf_443" class="t s4_443">document.domain </span><span id="tg_443" class="t s1_443">to a domain suffix. So a </span>
<span id="th_443" class="t s1_443">script with origin </span><span id="ti_443" class="t s5_443">https://orders.example.com </span><span id="tj_443" class="t s1_443">can change its origin to </span><span id="tk_443" class="t s5_443">https://exam </span>
<span id="tl_443" class="t s5_443">ple.com </span><span id="tm_443" class="t s1_443">by setting </span><span id="tn_443" class="t s4_443">document.domain </span><span id="to_443" class="t s1_443">to “example.com.” But that script cannot set </span><span id="tp_443" class="t s4_443">docu </span>
<span id="tq_443" class="t s4_443">ment.domain </span><span id="tr_443" class="t s1_443">to “orders.example”, “ample.com”, or “com”. </span>
<span id="ts_443" class="t s1_443">The second technique for relaxing the same-origin policy is Cross-Origin Resource </span>
<span id="tt_443" class="t s1_443">Sharing, or CORS, which allows servers to decide which origins they are willing to </span>
<span id="tu_443" class="t s1_443">serve. CORS extends HTTP with a new </span><span id="tv_443" class="t s4_443">Origin: </span><span id="tw_443" class="t s1_443">request header and a new </span><span id="tx_443" class="t s4_443">Access- </span>
<span id="ty_443" class="t s4_443">Control-Allow-Origin </span><span id="tz_443" class="t s1_443">response header. It allows servers to use a header to explicitly </span>
<span id="t10_443" class="t s1_443">list origins that may request a file or to use a wildcard and allow a file to be requested </span>
<span id="t11_443" class="t s1_443">by any site. Browsers honor these CORS headers and do not relax same-origin </span>
<span id="t12_443" class="t s1_443">restrictions unless they are present. </span>
<span id="t13_443" class="t s6_443">Cross-site scripting </span>
<span id="t14_443" class="t s3_443">Cross-site scripting</span><span id="t15_443" class="t s1_443">, or XSS, is a term for a category of security issues in which an </span>
<span id="t16_443" class="t s1_443">attacker injects HTML tags or scripts into a target website. Client-side JavaScript pro‐ </span>
<span id="t17_443" class="t s1_443">grammers must be aware of, and defend against, cross-site scripting. </span>
<span id="t18_443" class="t s1_443">A web page is vulnerable to cross-site scripting if it dynamically generates document </span>
<span id="t19_443" class="t s1_443">content and bases that content on user-submitted data without first “sanitizing” that </span>
<span id="t1a_443" class="t s1_443">data by removing any embedded HTML tags from it. As a trivial example, consider </span>
<span id="t1b_443" class="t s1_443">the following web page that uses JavaScript to greet the user by name: </span>
<span id="t1c_443" class="t s7_443">&lt;script&gt; </span>
<span id="t1d_443" class="t s8_443">let </span><span id="t1e_443" class="t s9_443">name </span><span id="t1f_443" class="t sa_443">= </span><span id="t1g_443" class="t s8_443">new </span><span id="t1h_443" class="t s9_443">URL</span><span id="t1i_443" class="t sb_443">(</span><span id="t1j_443" class="t sc_443">document</span><span id="t1k_443" class="t sb_443">.</span><span id="t1l_443" class="t s9_443">URL</span><span id="t1m_443" class="t sb_443">).</span><span id="t1n_443" class="t s9_443">searchParams</span><span id="t1o_443" class="t sb_443">.</span><span id="t1p_443" class="t s9_443">get</span><span id="t1q_443" class="t sb_443">(</span><span id="t1r_443" class="t sd_443">"name"</span><span id="t1s_443" class="t sb_443">); </span>
<span id="t1t_443" class="t sc_443">document</span><span id="t1u_443" class="t sb_443">.</span><span id="t1v_443" class="t s9_443">querySelector</span><span id="t1w_443" class="t sb_443">(</span><span id="t1x_443" class="t sd_443">'h1'</span><span id="t1y_443" class="t sb_443">).</span><span id="t1z_443" class="t s9_443">innerHTML </span><span id="t20_443" class="t sa_443">= </span><span id="t21_443" class="t sd_443">"Hello " </span><span id="t22_443" class="t sa_443">+ </span><span id="t23_443" class="t s9_443">name</span><span id="t24_443" class="t sb_443">; </span>
<span id="t25_443" class="t s7_443">&lt;/script&gt; </span>
<span id="t26_443" class="t s1_443">This two-line script extracts input from the “name” query parameter of the document </span>
<span id="t27_443" class="t s1_443">URL. It then uses the DOM API to inject an HTML string into the first </span><span id="t28_443" class="t s4_443">&lt;h1&gt; </span><span id="t29_443" class="t s1_443">tag in </span>
<span id="t2a_443" class="t s1_443">the document. This page is intended to be invoked with a URL like this: </span>
<span id="t2b_443" class="t sb_443">http://www.example.com/greet.html?name=David </span>
<span id="t2c_443" class="t s1_443">When used like this, it displays the text “Hello David.” But consider what happens </span>
<span id="t2d_443" class="t s1_443">when it is invoked with this query parameter: </span>
<span id="t2e_443" class="t sb_443">name=%3Cimg%20src=%22x.png%22%20onload=%22alert(%27hacked%27)%22/%3E </span>
<span id="t2f_443" class="t se_443">15.1 Web Programming Basics </span><span id="t2g_443" class="t se_443">| </span><span id="t2h_443" class="t se_443">425 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
