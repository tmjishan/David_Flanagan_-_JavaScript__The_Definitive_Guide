<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p540" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_540{left:110px;bottom:907px;letter-spacing:0.01px;word-spacing:1.11px;}
#t2_540{left:110px;bottom:887px;letter-spacing:-0.01px;word-spacing:0.92px;}
#t3_540{left:507px;bottom:887px;letter-spacing:0.12px;}
#t4_540{left:557px;bottom:887px;letter-spacing:0.02px;}
#t5_540{left:586px;bottom:887px;letter-spacing:0.12px;}
#t6_540{left:632px;bottom:887px;letter-spacing:0.01px;word-spacing:0.9px;}
#t7_540{left:110px;bottom:868px;letter-spacing:0.02px;}
#t8_540{left:110px;bottom:837px;letter-spacing:0.12px;}
#t9_540{left:137px;bottom:818px;letter-spacing:-0.01px;word-spacing:2.57px;}
#ta_540{left:138px;bottom:798px;letter-spacing:-0.02px;word-spacing:0.92px;}
#tb_540{left:137px;bottom:779px;letter-spacing:-0.01px;word-spacing:1.11px;}
#tc_540{left:221px;bottom:779px;letter-spacing:0.02px;}
#td_540{left:256px;bottom:779px;letter-spacing:-0.04px;word-spacing:1.13px;}
#te_540{left:414px;bottom:779px;letter-spacing:0.02px;}
#tf_540{left:460px;bottom:779px;letter-spacing:0.02px;word-spacing:1.08px;}
#tg_540{left:138px;bottom:760px;letter-spacing:0.03px;word-spacing:-0.02px;}
#th_540{left:110px;bottom:729px;letter-spacing:0.12px;}
#ti_540{left:138px;bottom:710px;letter-spacing:0.01px;word-spacing:0.83px;}
#tj_540{left:137px;bottom:690px;letter-spacing:-0.02px;word-spacing:1.85px;}
#tk_540{left:138px;bottom:671px;letter-spacing:0.01px;word-spacing:0.65px;}
#tl_540{left:137px;bottom:652px;letter-spacing:-0.01px;word-spacing:1.08px;}
#tm_540{left:138px;bottom:633px;letter-spacing:0.01px;word-spacing:1.73px;}
#tn_540{left:138px;bottom:613px;letter-spacing:0.01px;word-spacing:2.05px;}
#to_540{left:137px;bottom:594px;letter-spacing:-0.01px;word-spacing:0.83px;}
#tp_540{left:138px;bottom:574px;letter-spacing:-0.01px;word-spacing:1.67px;}
#tq_540{left:368px;bottom:574px;letter-spacing:0.12px;}
#tr_540{left:528px;bottom:574px;letter-spacing:0.02px;word-spacing:1.65px;}
#ts_540{left:137px;bottom:555px;word-spacing:0.01px;}
#tt_540{left:137px;bottom:536px;letter-spacing:-0.01px;word-spacing:1.51px;}
#tu_540{left:138px;bottom:515px;letter-spacing:0.02px;}
#tv_540{left:237px;bottom:516px;letter-spacing:0.12px;}
#tw_540{left:286px;bottom:515px;letter-spacing:0.02px;}
#tx_540{left:314px;bottom:516px;letter-spacing:0.12px;}
#ty_540{left:417px;bottom:515px;letter-spacing:0.01px;word-spacing:0.19px;}
#tz_540{left:137px;bottom:496px;letter-spacing:-0.02px;word-spacing:0.04px;}
#t10_540{left:110px;bottom:466px;letter-spacing:0.12px;}
#t11_540{left:138px;bottom:446px;letter-spacing:-0.03px;word-spacing:1.68px;}
#t12_540{left:137px;bottom:427px;word-spacing:0.71px;}
#t13_540{left:137px;bottom:407px;letter-spacing:-0.02px;word-spacing:3.01px;}
#t14_540{left:138px;bottom:388px;letter-spacing:0.01px;word-spacing:0.01px;}
#t15_540{left:110px;bottom:349px;letter-spacing:-0.12px;}
#t16_540{left:110px;bottom:324px;letter-spacing:0.01px;word-spacing:1.84px;}
#t17_540{left:110px;bottom:304px;letter-spacing:0.01px;word-spacing:2.11px;}
#t18_540{left:110px;bottom:285px;letter-spacing:-0.01px;word-spacing:0.53px;}
#t19_540{left:110px;bottom:266px;letter-spacing:0.02px;word-spacing:0.46px;}
#t1a_540{left:110px;bottom:247px;word-spacing:0.21px;}
#t1b_540{left:110px;bottom:227px;letter-spacing:0.02px;}
#t1c_540{left:110px;bottom:198px;letter-spacing:0.02px;}
#t1d_540{left:142px;bottom:198px;letter-spacing:0.12px;}
#t1e_540{left:180px;bottom:198px;letter-spacing:0.01px;word-spacing:3.38px;}
#t1f_540{left:110px;bottom:178px;letter-spacing:0.02px;word-spacing:4.08px;}
#t1g_540{left:377px;bottom:178px;letter-spacing:0.12px;}
#t1h_540{left:431px;bottom:178px;letter-spacing:0.01px;}
#t1i_540{left:453px;bottom:178px;letter-spacing:0.12px;}
#t1j_540{left:506px;bottom:178px;word-spacing:4.09px;}
#t1k_540{left:110px;bottom:158px;letter-spacing:-0.05px;word-spacing:2.44px;}
#t1l_540{left:265px;bottom:158px;letter-spacing:0.12px;}
#t1m_540{left:332px;bottom:158px;letter-spacing:0.01px;word-spacing:2.37px;}
#t1n_540{left:382px;bottom:158px;letter-spacing:0.12px;}
#t1o_540{left:419px;bottom:158px;letter-spacing:-0.02px;word-spacing:2.41px;}
#t1p_540{left:552px;bottom:158px;letter-spacing:0.12px;}
#t1q_540{left:589px;bottom:158px;letter-spacing:0.02px;word-spacing:2.37px;}
#t1r_540{left:110px;bottom:138px;letter-spacing:0.02px;word-spacing:1.66px;}
#t1s_540{left:251px;bottom:138px;letter-spacing:0.12px;}
#t1t_540{left:317px;bottom:138px;letter-spacing:0.01px;}
#t1u_540{left:332px;bottom:138px;letter-spacing:0.12px;}
#t1v_540{left:371px;bottom:138px;letter-spacing:-0.01px;word-spacing:1.69px;}
#t1w_540{left:110px;bottom:117px;letter-spacing:0.02px;word-spacing:2.23px;}
#t1x_540{left:320px;bottom:118px;letter-spacing:0.12px;}
#t1y_540{left:409px;bottom:117px;letter-spacing:0.01px;}
#t1z_540{left:432px;bottom:118px;letter-spacing:0.12px;}
#t20_540{left:537px;bottom:117px;letter-spacing:0.02px;word-spacing:2.23px;}
#t21_540{left:110px;bottom:59px;letter-spacing:-0.08px;}
#t22_540{left:141px;bottom:59px;}
#t23_540{left:157px;bottom:59px;letter-spacing:-0.08px;}

.s1_540{font-size:16px;font-family:MinionPro-Regular_7yv;color:#000;}
.s2_540{font-size:15px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s3_540{font-size:16px;font-family:MinionPro-Regular_7yv;color:#900;}
.s4_540{font-size:18px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
.s5_540{font-size:14px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts540" type="text/css" >

@font-face {
	font-family: MinionPro-Regular_7yv;
	src: url("fonts/MinionPro-Regular_7yv.woff") format("woff");
}

@font-face {
	font-family: MyriadPro-SemiboldCond_7yc;
	src: url("fonts/MyriadPro-SemiboldCond_7yc.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Regular_7zr;
	src: url("fonts/UbuntuMono-Regular_7zr.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg540Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg540" style="-webkit-user-select: none;"><svg id="pdf540" width="770" height="1010" viewBox="0 0 770 1010" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_540"><path d="M110,930.3v-4.7H660v4.7Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_540{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-linecap: round;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path clip-path="url(#c0_540)" d="M660,927.9H110" class="g0_540"/>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_540" class="t s1_540">These are probably the two most common scenarios, but they are not the only ways </span>
<span id="t2_540" class="t s1_540">to obtain the body of a web server’s response. In addition to </span><span id="t3_540" class="t s2_540">json() </span><span id="t4_540" class="t s1_540">and </span><span id="t5_540" class="t s2_540">text()</span><span id="t6_540" class="t s1_540">, the </span>
<span id="t7_540" class="t s1_540">Response object also has these methods: </span>
<span id="t8_540" class="t s2_540">arrayBuffer() </span>
<span id="t9_540" class="t s1_540">This method returns a Promise that resolves to an ArrayBuffer. This is useful </span>
<span id="ta_540" class="t s1_540">when the response contains binary data. You can use the ArrayBuffer to create a </span>
<span id="tb_540" class="t s1_540">typed array (</span><span id="tc_540" class="t s3_540">§11.2</span><span id="td_540" class="t s1_540">) or a DataView object (</span><span id="te_540" class="t s3_540">§11.2.5</span><span id="tf_540" class="t s1_540">) from which you can read the </span>
<span id="tg_540" class="t s1_540">binary data. </span>
<span id="th_540" class="t s2_540">blob() </span>
<span id="ti_540" class="t s1_540">This method returns a Promise that resolves to a Blob object. Blobs are not cov‐ </span>
<span id="tj_540" class="t s1_540">ered in any detail in this book, but the name stands for “Binary Large Object,” </span>
<span id="tk_540" class="t s1_540">and they are useful when you expect large amounts of binary data. If you ask for </span>
<span id="tl_540" class="t s1_540">the body of the response as a Blob, the browser implementation may stream the </span>
<span id="tm_540" class="t s1_540">response data to a temporary file and then return a Blob object that represents </span>
<span id="tn_540" class="t s1_540">that temporary file. Blob objects, therefore, do not allow random access to the </span>
<span id="to_540" class="t s1_540">response body the way that an ArrayBuffer does. Once you have a Blob, you can </span>
<span id="tp_540" class="t s1_540">create a URL that refers to it with </span><span id="tq_540" class="t s2_540">URL.createObjectURL()</span><span id="tr_540" class="t s1_540">, or you can use the </span>
<span id="ts_540" class="t s1_540">event-based FileReader API to asynchronously obtain the content of the Blob as a </span>
<span id="tt_540" class="t s1_540">string or an ArrayBuffer. At the time of this writing, some browsers also define </span>
<span id="tu_540" class="t s1_540">Promise-based </span><span id="tv_540" class="t s2_540">text() </span><span id="tw_540" class="t s1_540">and </span><span id="tx_540" class="t s2_540">arrayBuffer() </span><span id="ty_540" class="t s1_540">methods that give a more direct route </span>
<span id="tz_540" class="t s1_540">for obtaining the content of a Blob. </span>
<span id="t10_540" class="t s2_540">formData() </span>
<span id="t11_540" class="t s1_540">This method returns a Promise that resolves to a FormData object. You should </span>
<span id="t12_540" class="t s1_540">use this method if you expect the body of the Response to be encoded in “multi‐ </span>
<span id="t13_540" class="t s1_540">part/form-data” format. This format is common in POST requests made to a </span>
<span id="t14_540" class="t s1_540">server, but uncommon in server responses, so this method is not frequently used. </span>
<span id="t15_540" class="t s4_540">Streaming response bodies </span>
<span id="t16_540" class="t s1_540">In addition to the five response methods that asynchronously return some form of </span>
<span id="t17_540" class="t s1_540">the complete response body to you, there is also an option to stream the response </span>
<span id="t18_540" class="t s1_540">body, which is useful if there is some kind of processing you can do on the chunks of </span>
<span id="t19_540" class="t s1_540">the response body as they arrive over the network. But streaming the response is also </span>
<span id="t1a_540" class="t s1_540">useful if you want to display a progress bar so that the user can see the progress of the </span>
<span id="t1b_540" class="t s1_540">download. </span>
<span id="t1c_540" class="t s1_540">The </span><span id="t1d_540" class="t s2_540">body </span><span id="t1e_540" class="t s1_540">property of a Response object is a ReadableStream object. If you have </span>
<span id="t1f_540" class="t s1_540">already called a response method like </span><span id="t1g_540" class="t s2_540">text() </span><span id="t1h_540" class="t s1_540">or </span><span id="t1i_540" class="t s2_540">json() </span><span id="t1j_540" class="t s1_540">that reads, parses, and </span>
<span id="t1k_540" class="t s1_540">returns the body, then </span><span id="t1l_540" class="t s2_540">bodyUsed </span><span id="t1m_540" class="t s1_540">will be </span><span id="t1n_540" class="t s2_540">true </span><span id="t1o_540" class="t s1_540">to indicate that the </span><span id="t1p_540" class="t s2_540">body </span><span id="t1q_540" class="t s1_540">stream has </span>
<span id="t1r_540" class="t s1_540">already been read. If </span><span id="t1s_540" class="t s2_540">bodyUsed </span><span id="t1t_540" class="t s1_540">is </span><span id="t1u_540" class="t s2_540">false</span><span id="t1v_540" class="t s1_540">, however, then the stream has not yet been </span>
<span id="t1w_540" class="t s1_540">read. In this case, you can call </span><span id="t1x_540" class="t s2_540">getReader() </span><span id="t1y_540" class="t s1_540">on </span><span id="t1z_540" class="t s2_540">response.body </span><span id="t20_540" class="t s1_540">to obtain a stream </span>
<span id="t21_540" class="t s5_540">522 </span><span id="t22_540" class="t s5_540">| </span><span id="t23_540" class="t s5_540">Chapter 15: JavaScript in Web Browsers </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
