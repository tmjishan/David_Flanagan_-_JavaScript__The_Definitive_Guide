<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p623" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1010px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_623{left:110px;bottom:907px;word-spacing:1.46px;}
#t2_623{left:110px;bottom:887px;word-spacing:0.01px;}
#t3_623{left:371px;bottom:887px;letter-spacing:0.12px;}
#t4_623{left:428px;bottom:887px;letter-spacing:0.02px;}
#t5_623{left:110px;bottom:842px;letter-spacing:0.03px;}
#t6_623{left:110px;bottom:817px;word-spacing:1.72px;}
#t7_623{left:110px;bottom:798px;letter-spacing:0.02px;}
#t8_623{left:110px;bottom:770px;letter-spacing:0.02px;word-spacing:0.25px;}
#t9_623{left:110px;bottom:751px;letter-spacing:-0.04px;word-spacing:0.3px;}
#ta_623{left:110px;bottom:731px;letter-spacing:-0.01px;word-spacing:1.73px;}
#tb_623{left:110px;bottom:712px;word-spacing:0.53px;}
#tc_623{left:110px;bottom:693px;letter-spacing:0.02px;}
#td_623{left:136px;bottom:667px;letter-spacing:-0.01px;}
#te_623{left:175px;bottom:667px;}
#tf_623{left:194px;bottom:667px;}
#tg_623{left:207px;bottom:667px;letter-spacing:-0.01px;}
#th_623{left:253px;bottom:667px;}
#ti_623{left:259px;bottom:667px;letter-spacing:-0.01px;}
#tj_623{left:285px;bottom:667px;letter-spacing:-0.01px;}
#tk_623{left:136px;bottom:651px;letter-spacing:-0.01px;}
#tl_623{left:162px;bottom:651px;letter-spacing:-0.01px;}
#tm_623{left:207px;bottom:651px;}
#tn_623{left:220px;bottom:651px;letter-spacing:-0.01px;}
#to_623{left:233px;bottom:651px;}
#tp_623{left:240px;bottom:651px;letter-spacing:-0.01px;}
#tq_623{left:318px;bottom:651px;}
#tr_623{left:324px;bottom:651px;letter-spacing:-0.01px;}
#ts_623{left:396px;bottom:651px;}
#tt_623{left:448px;bottom:651px;letter-spacing:-0.01px;}
#tu_623{left:136px;bottom:636px;letter-spacing:-0.01px;}
#tv_623{left:162px;bottom:636px;letter-spacing:-0.01px;}
#tw_623{left:194px;bottom:636px;}
#tx_623{left:207px;bottom:636px;letter-spacing:-0.01px;}
#ty_623{left:220px;bottom:636px;}
#tz_623{left:227px;bottom:636px;letter-spacing:-0.01px;}
#t10_623{left:305px;bottom:636px;}
#t11_623{left:311px;bottom:636px;letter-spacing:-0.01px;}
#t12_623{left:376px;bottom:636px;}
#t13_623{left:389px;bottom:636px;letter-spacing:-0.01px;}
#t14_623{left:428px;bottom:636px;}
#t15_623{left:448px;bottom:636px;letter-spacing:-0.01px;}
#t16_623{left:136px;bottom:605px;letter-spacing:-0.01px;}
#t17_623{left:136px;bottom:589px;letter-spacing:-0.01px;}
#t18_623{left:149px;bottom:589px;}
#t19_623{left:155px;bottom:589px;letter-spacing:-0.01px;}
#t1a_623{left:207px;bottom:589px;}
#t1b_623{left:214px;bottom:589px;letter-spacing:-0.01px;}
#t1c_623{left:285px;bottom:589px;letter-spacing:-0.01px;}
#t1d_623{left:305px;bottom:589px;letter-spacing:-0.01px;}
#t1e_623{left:324px;bottom:589px;}
#t1f_623{left:337px;bottom:589px;letter-spacing:-0.01px;}
#t1g_623{left:376px;bottom:589px;}
#t1h_623{left:389px;bottom:589px;}
#t1i_623{left:409px;bottom:589px;}
#t1j_623{left:162px;bottom:573px;letter-spacing:-0.01px;}
#t1k_623{left:181px;bottom:573px;}
#t1l_623{left:188px;bottom:573px;letter-spacing:-0.01px;}
#t1m_623{left:207px;bottom:573px;letter-spacing:-0.01px;}
#t1n_623{left:188px;bottom:558px;letter-spacing:-0.01px;}
#t1o_623{left:162px;bottom:542px;}
#t1p_623{left:175px;bottom:542px;letter-spacing:-0.01px;}
#t1q_623{left:207px;bottom:542px;}
#t1r_623{left:188px;bottom:527px;letter-spacing:-0.01px;}
#t1s_623{left:162px;bottom:511px;}
#t1t_623{left:136px;bottom:496px;letter-spacing:-0.01px;}
#t1u_623{left:136px;bottom:464px;letter-spacing:-0.01px;}
#t1v_623{left:136px;bottom:449px;letter-spacing:-0.01px;}
#t1w_623{left:149px;bottom:449px;}
#t1x_623{left:155px;bottom:449px;letter-spacing:-0.01px;}
#t1y_623{left:162px;bottom:433px;}
#t1z_623{left:168px;bottom:433px;letter-spacing:-0.01px;}
#t20_623{left:220px;bottom:433px;}
#t21_623{left:227px;bottom:433px;letter-spacing:-0.01px;}
#t22_623{left:292px;bottom:433px;}
#t23_623{left:305px;bottom:433px;letter-spacing:-0.01px;}
#t24_623{left:344px;bottom:433px;}
#t25_623{left:162px;bottom:418px;}
#t26_623{left:168px;bottom:418px;letter-spacing:-0.01px;}
#t27_623{left:194px;bottom:418px;}
#t28_623{left:201px;bottom:418px;letter-spacing:-0.01px;}
#t29_623{left:298px;bottom:418px;}
#t2a_623{left:162px;bottom:402px;}
#t2b_623{left:168px;bottom:402px;letter-spacing:-0.01px;}
#t2c_623{left:201px;bottom:402px;}
#t2d_623{left:207px;bottom:402px;letter-spacing:-0.01px;}
#t2e_623{left:305px;bottom:402px;letter-spacing:-0.01px;}
#t2f_623{left:136px;bottom:371px;letter-spacing:-0.01px;}
#t2g_623{left:136px;bottom:355px;letter-spacing:-0.01px;}
#t2h_623{left:175px;bottom:355px;letter-spacing:-0.01px;}
#t2i_623{left:233px;bottom:355px;letter-spacing:-0.01px;}
#t2j_623{left:305px;bottom:355px;}
#t2k_623{left:311px;bottom:355px;letter-spacing:-0.01px;}
#t2l_623{left:363px;bottom:355px;}
#t2m_623{left:376px;bottom:355px;letter-spacing:-0.01px;}
#t2n_623{left:428px;bottom:355px;}
#t2o_623{left:435px;bottom:355px;letter-spacing:-0.01px;}
#t2p_623{left:474px;bottom:355px;letter-spacing:-0.01px;}
#t2q_623{left:162px;bottom:340px;letter-spacing:-0.01px;}
#t2r_623{left:188px;bottom:340px;letter-spacing:-0.01px;}
#t2s_623{left:220px;bottom:340px;}
#t2t_623{left:233px;bottom:340px;letter-spacing:-0.01px;}
#t2u_623{left:285px;bottom:340px;}
#t2v_623{left:292px;bottom:340px;letter-spacing:-0.01px;}
#t2w_623{left:344px;bottom:340px;}
#t2x_623{left:350px;bottom:340px;letter-spacing:-0.01px;}
#t2y_623{left:402px;bottom:340px;}
#t2z_623{left:409px;bottom:340px;letter-spacing:-0.01px;}
#t30_623{left:461px;bottom:340px;}
#t31_623{left:474px;bottom:340px;letter-spacing:-0.01px;}
#t32_623{left:526px;bottom:340px;letter-spacing:-0.01px;}
#t33_623{left:162px;bottom:324px;letter-spacing:-0.01px;}
#t34_623{left:136px;bottom:309px;}
#t35_623{left:110px;bottom:281px;word-spacing:1.17px;}
#t36_623{left:110px;bottom:262px;letter-spacing:0.01px;word-spacing:1.92px;}
#t37_623{left:110px;bottom:243px;letter-spacing:-0.03px;word-spacing:0.2px;}
#t38_623{left:110px;bottom:223px;letter-spacing:0.01px;word-spacing:0.73px;}
#t39_623{left:351px;bottom:223px;letter-spacing:0.12px;}
#t3a_623{left:401px;bottom:223px;word-spacing:0.74px;}
#t3b_623{left:110px;bottom:203px;letter-spacing:0.02px;}
#t3c_623{left:136px;bottom:177px;letter-spacing:-0.01px;}
#t3d_623{left:194px;bottom:177px;letter-spacing:-0.01px;}
#t3e_623{left:253px;bottom:177px;}
#t3f_623{left:259px;bottom:177px;letter-spacing:-0.01px;}
#t3g_623{left:311px;bottom:177px;}
#t3h_623{left:324px;bottom:177px;letter-spacing:-0.01px;}
#t3i_623{left:376px;bottom:177px;}
#t3j_623{left:383px;bottom:177px;letter-spacing:-0.01px;}
#t3k_623{left:422px;bottom:177px;letter-spacing:-0.01px;}
#t3l_623{left:162px;bottom:162px;letter-spacing:-0.01px;}
#t3m_623{left:175px;bottom:162px;}
#t3n_623{left:181px;bottom:162px;letter-spacing:-0.01px;}
#t3o_623{left:285px;bottom:162px;}
#t3p_623{left:292px;bottom:162px;letter-spacing:-0.01px;}
#t3q_623{left:344px;bottom:162px;}
#t3r_623{left:357px;bottom:162px;letter-spacing:-0.01px;}
#t3s_623{left:409px;bottom:162px;letter-spacing:-0.01px;}
#t3t_623{left:422px;bottom:162px;letter-spacing:-0.01px;}
#t3u_623{left:448px;bottom:162px;}
#t3v_623{left:454px;bottom:162px;letter-spacing:-0.01px;}
#t3w_623{left:500px;bottom:162px;}
#t3x_623{left:506px;bottom:162px;letter-spacing:-0.01px;}
#t3y_623{left:545px;bottom:162px;letter-spacing:-0.01px;}
#t3z_623{left:136px;bottom:146px;}
#t40_623{left:507px;bottom:59px;letter-spacing:-0.08px;}
#t41_623{left:627px;bottom:59px;}
#t42_623{left:643px;bottom:59px;letter-spacing:-0.1px;}

.s1_623{font-size:16px;font-family:MinionPro-Regular_7yv;color:#000;}
.s2_623{font-size:15px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s3_623{font-size:24px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
.s4_623{font-size:13px;font-family:UbuntuMono-Bold_7zh;color:#069;}
.s5_623{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#008;}
.s6_623{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#555;}
.s7_623{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#000;}
.s8_623{font-size:13px;font-family:UbuntuMono-Regular_7zr;color:#C30;}
.s9_623{font-size:13px;font-family:UbuntuMono-Italic_7zm;color:#35586C;}
.sa_623{font-size:14px;font-family:MyriadPro-SemiboldCond_7yc;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts623" type="text/css" >

@font-face {
	font-family: MinionPro-Regular_7yv;
	src: url("fonts/MinionPro-Regular_7yv.woff") format("woff");
}

@font-face {
	font-family: MyriadPro-SemiboldCond_7yc;
	src: url("fonts/MyriadPro-SemiboldCond_7yc.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Bold_7zh;
	src: url("fonts/UbuntuMono-Bold_7zh.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Italic_7zm;
	src: url("fonts/UbuntuMono-Italic_7zm.woff") format("woff");
}

@font-face {
	font-family: UbuntuMono-Regular_7zr;
	src: url("fonts/UbuntuMono-Regular_7zr.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg623Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg623" style="-webkit-user-select: none;"><svg id="pdf623" width="770" height="1010" viewBox="0 0 770 1010" style="width:770px; height:1010px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_623"><path d="M110,930.3v-4.7H660v4.7Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_623{
fill: none;
stroke: #000;
stroke-width: 0.381;
stroke-linecap: round;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<path clip-path="url(#c0_623)" d="M660,927.9H110" class="g0_623"/>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_623" class="t s1_623">of a FileHandle, there is really no reason to create one. And if you do create a File‐ </span>
<span id="t2_623" class="t s1_623">Handle, you should remember to call its </span><span id="t3_623" class="t s2_623">close() </span><span id="t4_623" class="t s1_623">method once you are done with it. </span>
<span id="t5_623" class="t s3_623">16.7.2 Reading Files </span>
<span id="t6_623" class="t s1_623">Node allows you to read file content all at once, via a stream, or with the low-level </span>
<span id="t7_623" class="t s1_623">API. </span>
<span id="t8_623" class="t s1_623">If your files are small, or if memory usage and performance are not the highest prior‐ </span>
<span id="t9_623" class="t s1_623">ity, then it is often easiest to read the entire content of a file with a single call. You can </span>
<span id="ta_623" class="t s1_623">do this synchronously, with a callback, or with a Promise. By default, you’ll get the </span>
<span id="tb_623" class="t s1_623">bytes of the file as a buffer, but if you specify an encoding, you’ll get a decoded string </span>
<span id="tc_623" class="t s1_623">instead. </span>
<span id="td_623" class="t s4_623">const </span><span id="te_623" class="t s5_623">fs </span><span id="tf_623" class="t s6_623">= </span><span id="tg_623" class="t s5_623">require</span><span id="th_623" class="t s7_623">(</span><span id="ti_623" class="t s8_623">"fs"</span><span id="tj_623" class="t s7_623">); </span>
<span id="tk_623" class="t s4_623">let </span><span id="tl_623" class="t s5_623">buffer </span><span id="tm_623" class="t s6_623">= </span><span id="tn_623" class="t s5_623">fs</span><span id="to_623" class="t s7_623">.</span><span id="tp_623" class="t s5_623">readFileSync</span><span id="tq_623" class="t s7_623">(</span><span id="tr_623" class="t s8_623">"test.data"</span><span id="ts_623" class="t s7_623">); </span><span id="tt_623" class="t s9_623">// Synchronous, returns buffer </span>
<span id="tu_623" class="t s4_623">let </span><span id="tv_623" class="t s5_623">text </span><span id="tw_623" class="t s6_623">= </span><span id="tx_623" class="t s5_623">fs</span><span id="ty_623" class="t s7_623">.</span><span id="tz_623" class="t s5_623">readFileSync</span><span id="t10_623" class="t s7_623">(</span><span id="t11_623" class="t s8_623">"data.csv"</span><span id="t12_623" class="t s7_623">, </span><span id="t13_623" class="t s8_623">"utf8"</span><span id="t14_623" class="t s7_623">); </span><span id="t15_623" class="t s9_623">// Synchronous, returns string </span>
<span id="t16_623" class="t s9_623">// Read the bytes of the file asynchronously </span>
<span id="t17_623" class="t s5_623">fs</span><span id="t18_623" class="t s7_623">.</span><span id="t19_623" class="t s5_623">readFile</span><span id="t1a_623" class="t s7_623">(</span><span id="t1b_623" class="t s8_623">"test.data"</span><span id="t1c_623" class="t s7_623">, (</span><span id="t1d_623" class="t s5_623">err</span><span id="t1e_623" class="t s7_623">, </span><span id="t1f_623" class="t s5_623">buffer</span><span id="t1g_623" class="t s7_623">) </span><span id="t1h_623" class="t s6_623">=&gt; </span><span id="t1i_623" class="t s7_623">{ </span>
<span id="t1j_623" class="t s4_623">if </span><span id="t1k_623" class="t s7_623">(</span><span id="t1l_623" class="t s5_623">err</span><span id="t1m_623" class="t s7_623">) { </span>
<span id="t1n_623" class="t s9_623">// Handle the error here </span>
<span id="t1o_623" class="t s7_623">} </span><span id="t1p_623" class="t s4_623">else </span><span id="t1q_623" class="t s7_623">{ </span>
<span id="t1r_623" class="t s9_623">// The bytes of the file are in buffer </span>
<span id="t1s_623" class="t s7_623">} </span>
<span id="t1t_623" class="t s7_623">}); </span>
<span id="t1u_623" class="t s9_623">// Promise-based asynchronous read </span>
<span id="t1v_623" class="t s5_623">fs</span><span id="t1w_623" class="t s7_623">.</span><span id="t1x_623" class="t s5_623">promises </span>
<span id="t1y_623" class="t s7_623">.</span><span id="t1z_623" class="t s5_623">readFile</span><span id="t20_623" class="t s7_623">(</span><span id="t21_623" class="t s8_623">"data.csv"</span><span id="t22_623" class="t s7_623">, </span><span id="t23_623" class="t s8_623">"utf8"</span><span id="t24_623" class="t s7_623">) </span>
<span id="t25_623" class="t s7_623">.</span><span id="t26_623" class="t s5_623">then</span><span id="t27_623" class="t s7_623">(</span><span id="t28_623" class="t s5_623">processFileText</span><span id="t29_623" class="t s7_623">) </span>
<span id="t2a_623" class="t s7_623">.</span><span id="t2b_623" class="t s4_623">catch</span><span id="t2c_623" class="t s7_623">(</span><span id="t2d_623" class="t s5_623">handleReadError</span><span id="t2e_623" class="t s7_623">); </span>
<span id="t2f_623" class="t s9_623">// Or use the Promise API with await inside an async function </span>
<span id="t2g_623" class="t s5_623">async </span><span id="t2h_623" class="t s4_623">function </span><span id="t2i_623" class="t s5_623">processText</span><span id="t2j_623" class="t s7_623">(</span><span id="t2k_623" class="t s5_623">filename</span><span id="t2l_623" class="t s7_623">, </span><span id="t2m_623" class="t s5_623">encoding</span><span id="t2n_623" class="t s6_623">=</span><span id="t2o_623" class="t s8_623">"utf8"</span><span id="t2p_623" class="t s7_623">) { </span>
<span id="t2q_623" class="t s4_623">let </span><span id="t2r_623" class="t s5_623">text </span><span id="t2s_623" class="t s6_623">= </span><span id="t2t_623" class="t s5_623">await fs</span><span id="t2u_623" class="t s7_623">.</span><span id="t2v_623" class="t s5_623">promises</span><span id="t2w_623" class="t s7_623">.</span><span id="t2x_623" class="t s5_623">readFile</span><span id="t2y_623" class="t s7_623">(</span><span id="t2z_623" class="t s5_623">filename</span><span id="t30_623" class="t s7_623">, </span><span id="t31_623" class="t s5_623">encoding</span><span id="t32_623" class="t s7_623">); </span>
<span id="t33_623" class="t s9_623">// ... process the text here... </span>
<span id="t34_623" class="t s7_623">} </span>
<span id="t35_623" class="t s1_623">If you are able to process the contents of a file sequentially and do not need to have </span>
<span id="t36_623" class="t s1_623">the entire content of the file in memory at the same time, then reading a file via a </span>
<span id="t37_623" class="t s1_623">stream may be the most efficient approach. We’ve covered streams extensively: here is </span>
<span id="t38_623" class="t s1_623">how you might use a stream and the </span><span id="t39_623" class="t s2_623">pipe() </span><span id="t3a_623" class="t s1_623">method to write the contents of a file to </span>
<span id="t3b_623" class="t s1_623">standard output: </span>
<span id="t3c_623" class="t s4_623">function </span><span id="t3d_623" class="t s5_623">printFile</span><span id="t3e_623" class="t s7_623">(</span><span id="t3f_623" class="t s5_623">filename</span><span id="t3g_623" class="t s7_623">, </span><span id="t3h_623" class="t s5_623">encoding</span><span id="t3i_623" class="t s6_623">=</span><span id="t3j_623" class="t s8_623">"utf8"</span><span id="t3k_623" class="t s7_623">) { </span>
<span id="t3l_623" class="t s5_623">fs</span><span id="t3m_623" class="t s7_623">.</span><span id="t3n_623" class="t s5_623">createReadStream</span><span id="t3o_623" class="t s7_623">(</span><span id="t3p_623" class="t s5_623">filename</span><span id="t3q_623" class="t s7_623">, </span><span id="t3r_623" class="t s5_623">encoding</span><span id="t3s_623" class="t s7_623">).</span><span id="t3t_623" class="t s5_623">pipe</span><span id="t3u_623" class="t s7_623">(</span><span id="t3v_623" class="t s5_623">process</span><span id="t3w_623" class="t s7_623">.</span><span id="t3x_623" class="t s5_623">stdout</span><span id="t3y_623" class="t s7_623">); </span>
<span id="t3z_623" class="t s7_623">} </span>
<span id="t40_623" class="t sa_623">16.7 Working with Files </span><span id="t41_623" class="t sa_623">| </span><span id="t42_623" class="t sa_623">605 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
